# A0126421U
###### ./bin/calendrier/resources/EventMonth.fxml
``` fxml
<fx:root type="StackPane" xmlns="http://javafx.com/javafx/8.0.40"
	xmlns:fx="http://javafx.com/fxml">
	<children>
		<GridPane fx:id="eventGridPaneMonth" xmlns="http://javafx.com/javafx/8.0.40"
			xmlns:fx="http://javafx.com/fxml" hgap="20" vgap="20" prefWidth="160.0"
			prefHeight="100.0" maxWidth="160.0" maxHeight="100.0">
			<children>
				<Label fx:id="lblDate" GridPane.rowIndex="0"
					GridPane.columnIndex="0" GridPane.columnSpan="3" wrapText="true"/>
				<Label fx:id="lblEventID1" GridPane.rowIndex="1"
					GridPane.columnIndex="1" wrapText="true" />
				<Label fx:id="lblEvent1" GridPane.rowIndex="1"
					GridPane.columnIndex="2" wrapText="true" />
				<Label fx:id="lblEventID2" GridPane.rowIndex="2"
					GridPane.columnIndex="1" wrapText="true" />
				<Label fx:id="lblEvent2" GridPane.rowIndex="2"
					GridPane.columnIndex="2" wrapText="true" />
				<Label fx:id="lblEvent3" GridPane.rowIndex="3"
					GridPane.columnIndex="2" wrapText="true" />
			</children>
		</GridPane>
	</children>
</fx:root>

```
###### ./bin/calendrier/resources/Home.fxml
``` fxml
<fx:root type="FlowPane" fx:id="flowPaneAllEvents" xmlns="http://javafx.com/javafx/8.0.40"
	xmlns:fx="http://javafx.com/fxml/1" prefWidth="850.0" prefHeight="500.0"
	maxWidth="850.0" maxHeight="500.0">
	<children>
		<GridPane styleClass="gridPaneHelpScreen" xmlns="http://javafx.com/javafx/8.0.40"
			xmlns:fx="http://javafx.com/fxml/1" prefWidth="1000.0" prefHeight="700.0"
			maxWidth="1000.0" maxHeight="600.0" vgap="30" hgap="100">
			<children>
				<Label fx:id="lblCurrentEvent" text="Current Task"
					GridPane.rowSpan="3" GridPane.rowIndex="1" GridPane.columnIndex="2"
					GridPane.columnSpan="20" />
				<Label fx:id="lblCurrent" GridPane.rowSpan="3"
					GridPane.rowIndex="4" GridPane.columnIndex="2" GridPane.columnSpan="20" />
				<!-- <Label fx:id="lblCurrentEvent" text="Next Task"
					GridPane.rowSpan="3" GridPane.rowIndex="10" GridPane.columnIndex="2"
					GridPane.columnSpan="20" />
				<Label fx:id="lblNext" GridPane.rowSpan="3" GridPane.rowIndex="13"
					GridPane.columnIndex="2" GridPane.columnSpan="20" /> -->
				<Label fx:id="lblCurrentEvent" text="Overdue Task"
					GridPane.rowSpan="3" GridPane.rowIndex="20" GridPane.columnIndex="2"
					GridPane.columnSpan="20" />
				<Label fx:id="lblPassed" GridPane.rowSpan="3"
					GridPane.rowIndex="25" GridPane.columnIndex="10"
					GridPane.columnSpan="3" />
				<Label fx:id="lblCurrentEvent" text="Ongoing Task"
					GridPane.rowSpan="3" GridPane.rowIndex="20" GridPane.columnIndex="33"
					GridPane.columnSpan="20" />
				<Label fx:id="lblOngoing" GridPane.rowSpan="3"
					GridPane.rowIndex="25" GridPane.columnIndex="41"
					GridPane.columnSpan="3" />
				<Label fx:id="lblCurrentEvent" text="Float Task"
					GridPane.rowSpan="3" GridPane.rowIndex="20" GridPane.columnIndex="65"
					GridPane.columnSpan="20" />
				<Label fx:id="lblFloat" GridPane.rowSpan="3"
					GridPane.rowIndex="25" GridPane.columnIndex="70"
					GridPane.columnSpan="5" />
				<Label fx:id="lblCurrentEvent" text="Countdown to Next Event"
					GridPane.rowSpan="3" GridPane.rowIndex="38" GridPane.columnIndex="55"
					GridPane.columnSpan="40" />
				<Label fx:id="lbltime" GridPane.rowIndex="40" GridPane.rowSpan="3" 
					GridPane.columnIndex="65" wrapText="true" GridPane.columnSpan="25" />
			</children>
		</GridPane>
		<!-- <Label styleClass="storageMessage" text="* Create storage file first: 
			'save in &#60;FOLDER_NAME&#62;'" StackPane.alignment="BOTTOM_CENTER" /> -->
	</children>
</fx:root>
```
###### ./bin/calendrier/resources/ViewMonth.fxml
``` fxml
<fx:root type="FlowPane" fx:id="flowPaneMonthEvents" xmlns="http://javafx.com/javafx/8.0.40"
	xmlns:fx="http://javafx.com/fxml/1" prefWidth="550.0" prefHeight="500.0"
	maxWidth="1200.0" maxHeight="1200.0">
	<GridPane fx:id="monthGridPane" xmlns="http://javafx.com/javafx/8.0.40"
		xmlns:fx="http://javafx.com/fxml" hgap="4" vgap="4" prefWidth="1200.0"
		prefHeight="15.0" maxWidth="1200.0" maxHeight="15.0">
		<children>
			<Label fx:id="lblmonth" GridPane.columnIndex="5" GridPane.rowIndex="2" />
			<Label fx:id="lblyear" GridPane.columnIndex="8" GridPane.rowIndex="2" />
		</children>
	</GridPane>
	<GridPane fx:id="monthGridPane" xmlns="http://javafx.com/javafx/8.0.40"
		xmlns:fx="http://javafx.com/fxml" hgap="5" vgap="5" prefWidth="1200.0"
		prefHeight="20.0" maxWidth="1200.0" maxHeight="20.0">
		<children>
			<Label styleClass="displayText" text="Sunday"
				GridPane.columnIndex="11" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Monday"
				GridPane.columnIndex="32" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Tuesday"
				GridPane.columnIndex="52" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Wednesday"
				GridPane.columnIndex="70" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Thursday"
				GridPane.columnIndex="87" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Friday"
				GridPane.columnIndex="107" GridPane.rowIndex="2"
				GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Saturday"
				GridPane.columnIndex="129" GridPane.rowIndex="2"
				GridPane.columnSpan="2" />

		</children>
	</GridPane>
	<children>
	</children>

</fx:root>
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
 * For generate the children object for viewMonth
 * 
 * @author hiumengxiong
 *
 */
public class EventMonthController extends StackPane {

	@FXML
	private GridPane eventGridPaneMonth;
	@FXML
	private Label lblDate;
	@FXML
	private Label lblEventID1;
	@FXML
	private Label lblEventID2;
	@FXML
	private Label lblEvent1;
	@FXML
	private Label lblEvent2;
	@FXML
	private Label lblEvent3;

	private static final String SINGLE_EVENT_LAYOUT_FXML = "/calendrier/resources/EventMonth.fxml";

	private static final String VALUE_SHOW_EMPTY_DATA = " ";

	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Constructor to initialize the main components of EventMonthController
	 * 
	 * @param date - Date to be display
	 * @param month - Month to be display
	 * @param year - Year to be display
	 * @param events - List of events for the this date 
	 * @param idList - The id to be display to user user, which will link for idMapper
	 * 
	 */
	public EventMonthController(int date, int month, int year, List<Event> events, List<String> idList) {
		FXMLLoader loader = new FXMLLoader(getClass().getResource(SINGLE_EVENT_LAYOUT_FXML));
		loader.setController(this);
		loader.setRoot(this);
		try {
			loader.load();
		} catch (IOException e) {
			e.printStackTrace();
		}
		initEventValue(date, month, year, events, idList);
	}
	
	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Fill in details for EventMonth
	 * 
	 * @param date - Date to be display
	 * @param month - Month to be display
	 * @param year - Year to be display
	 * @param events - List of events for the this date 
	 * @param idList - The id to be display to user user, which will link for idMapper
	 * 
	 */
	@SuppressWarnings("deprecation")
	public void initEventValue(int date, int month, int year, List<Event> events, List<String> idList) {
		
		Calendar cal = Calendar.getInstance();

		lblDate.setText(checkDate(date));
		
		if (events != null && events.size() > 0) {
			if (events.get(0).getTitle() != null) {
				lblEvent1.setText(events.get(0).getTitle());
				lblEventID1.setText(Integer.toString(computeFakeId(idList,events.get(0).getId())));
				changeTextColor(events.get(0).getPriority(), lblEvent1);
				if (events.size() > 1) {
					lblEvent2.setText(events.get(1).getTitle());
					lblEventID2.setText(Integer.toString(computeFakeId(idList,events.get(1).getId())));
					changeTextColor(events.get(1).getPriority(), lblEvent2);
					if (events.size() > 2) {
						lblEvent3.setText("...");
						changeTextColor(Priority.HIGH, lblEvent3);
					}
				}
			} else {
				lblEvent1.setText(VALUE_SHOW_EMPTY_DATA);
				lblEvent2.setText(VALUE_SHOW_EMPTY_DATA);
				lblEvent3.setText(VALUE_SHOW_EMPTY_DATA);
			}
		} else {
			lblEvent1.setText(VALUE_SHOW_EMPTY_DATA);
			lblEvent2.setText(VALUE_SHOW_EMPTY_DATA);
			lblEvent3.setText(VALUE_SHOW_EMPTY_DATA);
		}
		
		//cal.set(2015, 10, 18, 10, 55, 00);
		if (cal.getTime().getDate() == date && cal.getTime().getMonth()==month && (cal.getTime().getYear()+1900)==year) {
			eventGridPaneMonth.setStyle("-fx-border-color: red;-fx-border-width: 2.0px;");
		}
		if(cal.getTime().getDate() > date && cal.getTime().getMonth()>=month && (cal.getTime().getYear()+1900)>=year){
			lblEvent1.setStyle("-fx-text-fill: darkgray;");
			lblEvent2.setStyle("-fx-text-fill: darkgray;");
			lblEvent3.setStyle("-fx-text-fill: darkgray;");
			lblEventID1.setStyle("-fx-text-fill: darkgray;");
			lblEventID2.setStyle("-fx-text-fill: darkgray;");
		}else if(cal.getTime().getMonth()>month && (cal.getTime().getYear()+1900)>=year){
			lblEvent1.setStyle("-fx-text-fill: darkgray;");
			lblEvent2.setStyle("-fx-text-fill: darkgray;");
			lblEvent3.setStyle("-fx-text-fill: darkgray;");
			lblEventID1.setStyle("-fx-text-fill: darkgray;");
			lblEventID2.setStyle("-fx-text-fill: darkgray;");
		}
	}
	
	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Compute the fake id that display to the user.
	 * 
	 * @param idList - The id to be display to user user, which will link for idMapper
	 * @param id - the actual id of current event
	 * 
	 * @return fakedId - the short id to be display to the user.
	 * 
	 */
	private int computeFakeId(List<String> idList, String id){
		for(int i=0;i<idList.size();i++){
			if(idList.get(i).equals(id)){
				return i;
			}
		}
		return -1;
	}
	
	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * check the existence of date
	 * 
	 * @param date - Date to be check
	 * 
	 * @return String of Date
	 * 
	 */
	private String checkDate(int date){
		if(date!=0){
			return String.format("%d", date);
		}
		return VALUE_SHOW_EMPTY_DATA;
	}
	
	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Change the text color based on priority
	 * 
	 * @param priority - the priority of the current event
	 * @param lblEvent - the layout to be modified
	 * 
	 */
	private void changeTextColor(Priority priority, Label lblEvent) {
		if (priority == Priority.VERY_HIGH) {
			lblEvent.setStyle("-fx-text-fill: red;");
		} else if (priority == Priority.HIGH) {
			lblEvent.setStyle("-fx-text-fill: #FFA07A;");
		} else if (priority == Priority.MEDIUM) {
			lblEvent.setStyle("-fx-text-fill: gold;");
		} else if (priority == Priority.LOW) {
			lblEvent.setStyle("-fx-text-fill: #00FF7F;");
		} else if (priority == Priority.VERY_LOW) {
			lblEvent.setStyle("-fx-text-fill: #2E8B57;");
		} else {
			lblEvent.setStyle("-fx-text-fill: black;");
		}
	}
}
```
###### ./src/calendrier/gui/UserInterface.java
``` java
	 * generate home view
	 * 
	 * @param userInterface - the current userInterface
	 * @param timeToNextEvent - time left for next event
	 * 
	 * 
	 */
	@SuppressWarnings("deprecation")
	private void viewHome(UserInterface userInterface, long timeToNextEvent) {
		Calendar cal = Calendar.getInstance();
		List<Event> currentTask = new ArrayList<Event>();
		List<Event> nextTask = new ArrayList<Event>();
		String name1, name2;
		currentTask = mainLogic.getDayEvents(cal.getTime().getYear() + 1900, cal.getTime().getMonth() + 1,
				cal.getTime().getDay() + 1);
		cal.add(Calendar.DATE, 1);
		nextTask = mainLogic.getDayEvents(cal.getTime().getYear() + 1900, cal.getTime().getMonth() + 1,
				cal.getTime().getDay() + 1);
		while (nextTask.size() == 0) {
			cal.add(Calendar.DATE, 1);
			nextTask = mainLogic.getDayEvents(cal.getTime().getYear() + 1900, cal.getTime().getMonth() + 1,
					cal.getTime().getDay() + 1);
		}
		currentScreenState = VALUE_VIEW_HOME_SCREEN;
		if (currentTask.size() != 0) {
			name1 = currentTask.get(0).getTitle();
		} else {
			name1 = null;
		}
		name2 = nextTask.get(0).getTitle();
		rootLayout.setCenter(new ViewController(timeToNextEvent, name1, name2,
				getNumOfFloatEvents(mainLogic.getAllEvents()), getNumOfOnGoingEvents(mainLogic.getAllEvents()),
				getNumOfPassedEvents(mainLogic.getAllEvents())));

		startCountDown(name1, name2);
	}
	
	/**
```
###### ./src/calendrier/gui/UserInterface.java
``` java
	 * Start count down for the next event 
	 * 
	 * @param name1 - the title for current event
	 * @param name2 - the title for next event
	 * 
	 * 
	 */
	private void startCountDown(String name1, String name2) {
		timer.schedule(new TimerTask() {
			@Override
			public void run() {
				Platform.runLater(new Runnable() {
					public void run() {
						rootLayout.setCenter(new ViewController(mainLogic.getTimeToNextEvent(), name1, name2,
								getNumOfFloatEvents(mainLogic.getAllEvents()),
								getNumOfOnGoingEvents(mainLogic.getAllEvents()),
								getNumOfPassedEvents(mainLogic.getAllEvents())));
					}
				});
			}
		}, 1, 1000);
	}
	
	/**
```
###### ./src/calendrier/gui/UserInterface.java
``` java
	 * generate month view
	 * 
	 *  @param userInterface - the current userInterface
	 *  @param month - the month to be display
	 *  @param year - year to be display
	 * 
	 */
	private void viewMonth(UserInterface userInterface, int month, int year) {
		currentScreenState = VALUE_VIEW_MONTH_SCREEN;
		rootLayout.setCenter(new ViewController(mainLogic.getMonthEvents(currentYear, currentMonth + 1), date,
				currentMonth, currentYear));
	}

	private void viewDay(UserInterface userInterface, int date, int month, int year, int day, boolean isToday) {
		currentScreenState = VALUE_VIEW_HOME_SCREEN;
		rootLayout.setCenter(new ViewDayController(mainLogic.getDayEvents(year, month + 1, date),
				mainLogic.getDayEvents(year, month + 1, date, PARAM_GET_FLOATING_TASK_TRUE), date, month, year, day,
				isToday, checkPassedDay()));
	}

	private void getHelp(UserInterface userInterface) {
		currentScreenState = VALUE_START_SCREEN;
		startScreenPage = VALUE_START_SCREEN_MIN + VALUE_TO_ADD_OR_MINUS;
		rootLayout.setCenter(new StartScreenController(userInterface, startScreenPage));
	}

	private String getNextDay(UserInterface userInterface) {
		if (currentScreenState == VALUE_VIEW_HOME_SCREEN) {
			Calendar newCal = Calendar.getInstance();
			newCal.set(Calendar.YEAR, viewYear);
			newCal.set(Calendar.MONTH, viewMonth);
			int lastDayOfMonth = newCal.getActualMaximum(Calendar.DAY_OF_MONTH);
			viewDate += VALUE_TO_ADD_OR_MINUS;
			if (viewDate > lastDayOfMonth) {
				viewDate = VALUE_TO_ADD_OR_MINUS;
				viewMonth += VALUE_TO_ADD_OR_MINUS;
				if (viewMonth > 11) {
					viewMonth = 0;
					viewYear += VALUE_TO_ADD_OR_MINUS;
				}
			}
			viewDay(this, viewDate, viewMonth, viewYear, getDay(viewDate, viewMonth, viewYear),
					boolIsToday(viewDate, viewMonth, viewYear));
			return MESSAGE_EMPTY;
		} else {
			return MESSAGE_FAIL_VIEW_HOME_NEXT;
		}
	}

	private String getNextMonth(UserInterface userInterface) {
		if (currentScreenState == VALUE_VIEW_MONTH_SCREEN) {
			currentMonth += 1;
			if (currentMonth > 11) {
				currentMonth = 0;
				currentYear++;
			}
			viewMonth(this, currentMonth, currentYear);
			return MESSAGE_EMPTY;
		} else {
			return MESSAGE_FAIL_VIEW_MONTH_NEXT;
		}
	}

	private void getNextPage(UserInterface userInterface) {
		 if (currentScreenState == VALUE_VIEW_HOME_SCREEN) {

		} else if (currentScreenState == VALUE_START_SCREEN) {
			// to navigate around the start screen page
			if (isValidScreen(PARAM_NAVIGATION_NEXT)) {
				rootLayout.setCenter(new StartScreenController(userInterface, startScreenPage));
			}
		} else {
			if ((arrStartIndex + VALUE_ADD_TO_ARRAY) <= (mainLogic.getAllEvents().size() - VALUE_TO_ADD_OR_MINUS)) {
				arrStartIndex += VALUE_ADD_TO_ARRAY;
				addView(userInterface);
			}
		}
	}

	private String getPreviousDay(UserInterface userInterface) {
		if (currentScreenState == VALUE_VIEW_HOME_SCREEN) {
			viewDate -= VALUE_TO_ADD_OR_MINUS;
			if (viewDate < 1) {
				Calendar newCal = Calendar.getInstance();
				viewMonth -= VALUE_TO_ADD_OR_MINUS;
				if (viewMonth < 0) {
					viewMonth = 11;
					viewYear -= VALUE_TO_ADD_OR_MINUS;
				}
				newCal.set(Calendar.YEAR, viewYear);
				newCal.set(Calendar.MONTH, viewMonth);
				viewDate = newCal.getActualMaximum(Calendar.DAY_OF_MONTH);
			}
			viewDay(this, viewDate, viewMonth, viewYear, getDay(viewDate, viewMonth, viewYear),
					boolIsToday(viewDate, viewMonth, viewYear));
			return MESSAGE_EMPTY;
		} else {
			return MESSAGE_FAIL_VIEW_HOME_PREVIOUS;
		}
	}

	private String getPreviousMonth(UserInterface userInterface) {
		if (currentScreenState == VALUE_VIEW_MONTH_SCREEN) {
			currentMonth -= 1;
			if (currentMonth < 0) {
				currentMonth = 11;
				currentYear--;
			}
			viewMonth(this, currentMonth, currentYear);
			return MESSAGE_EMPTY;
		} else {
			return MESSAGE_FAIL_VIEW_MONTH_PREVIOUS;
		}
	}

	private void getPreviousPage(UserInterface userInterface) {
		if (currentScreenState == VALUE_VIEW_HOME_SCREEN) {
			
		} else if (currentScreenState == VALUE_START_SCREEN) {
			if (isValidScreen(PARAM_NAVIGATION_PREVIOUS)) {
				rootLayout.setCenter(new StartScreenController(userInterface, startScreenPage));
			}
		} else {
			if ((arrStartIndex - VALUE_ADD_TO_ARRAY) >= 0) {
				arrStartIndex -= VALUE_ADD_TO_ARRAY;
			} else if ((arrStartIndex - VALUE_ADD_TO_ARRAY) < 0) {
				arrStartIndex = 0;
			}
			addView(userInterface);
		}
	}

	private boolean isValidScreen(String operation) {
		if (operation.equals(PARAM_NAVIGATION_NEXT)) {
			if (startScreenPage + VALUE_TO_ADD_OR_MINUS <= VALUE_START_SCREEN_MAX) {
				startScreenPage += VALUE_TO_ADD_OR_MINUS;
				return true;
			}
		} else {
			if (startScreenPage - VALUE_TO_ADD_OR_MINUS >= VALUE_START_SCREEN_MIN) {
				startScreenPage -= VALUE_TO_ADD_OR_MINUS;
				return true;
			}
		}
		return false;
	}

	public void handleKeyPress(CommandBarController commandBarController, KeyCode key, String userInput) {
		if (key == KeyCode.ENTER) {
			handleEnterPress(commandBarController, userInput);
		}

		if (key == KeyCode.LEFT && userInput.length() == 0) {
			getPreviousPage(this);
		}

		if (key == KeyCode.RIGHT && userInput.length() == 0) {
			getNextPage(this);
		}

		if (key == KeyCode.UP && userInput.length() == 0) {
			if (currentScreenState == VALUE_VIEW_HOME_SCREEN) {
				setMessage = getPreviousDay(this);
				commandBarController.setMessage(setMessage);
				commandBarController.clear();
			} else if (currentScreenState == VALUE_VIEW_MONTH_SCREEN) {
				setMessage = getPreviousMonth(this);
				commandBarController.setMessage(setMessage);
				commandBarController.clear();
			}
		}
		if (key == KeyCode.DOWN && userInput.length() == 0) {
			if (currentScreenState == VALUE_VIEW_HOME_SCREEN) {
				setMessage = getNextDay(this);
				commandBarController.setMessage(setMessage);
				commandBarController.clear();
			} else if (currentScreenState == VALUE_VIEW_MONTH_SCREEN) {
				setMessage = getNextMonth(this);
				commandBarController.setMessage(setMessage);
				commandBarController.clear();
			}
		}
	}

	private void handleEnterPress(CommandBarController commandBarController, String userInput) {
		switch (mainLogic.execute(userInput)) {
		case STORAGE_LOCATION:
			setMessage = MESSAGE_WELCOME;
			setStorage = PARAM_SET_STORAGE_TRUE;
			eventSize = mainLogic.getAllEvents().size();
			if (eventSize == 0) {
				addView(this);
			} else {
				viewHome(this, mainLogic.getTimeToNextEvent());
				//viewDay(this, date, month, year, getDay(date, month, year), boolIsToday(date, month, year));
			}
			break;
		case ADD:
			if (setStorage) {
				timer.cancel();
				setMessage = checkAdding();
				currentEventState = VALUE_GET_ALL_EVENTS;
				if (currentScreenState == VALUE_VIEW_SCREEN) {
					addView(this);
					if (eventSize > VALUE_ADD_TO_ARRAY) {
						getNextPage(this);
					}
				} else if (currentScreenState == VALUE_VIEW_HOME_SCREEN) {
					resetViewDateInfo();
					viewDay(this, date, month, year, getDay(date, month, year), boolIsToday(date, month, year));
				} else {
					viewMonth(this, currentMonth, currentYear);
				}
				break;
			}
		case VIEW_ALL:
			if (setStorage) {
				timer.cancel();
				setMessage = MESSAGE_EMPTY;
				currentEventState = VALUE_GET_ALL_EVENTS;
				addView(this);
				break;
			}
		case VIEW:
			if (setStorage) {
				timer.cancel();
				setMessage = checkEventExist();
				currentEventState = VALUE_GET_ALL_EVENTS;
				break;
			}

		case FILTER:
			if (setStorage) {
				timer.cancel();
				setMessage = MESSAGE_EMPTY;
				currentEventState = VALUE_GET_FILTERED_EVENTS;
				addView(this);
				break;
			}
		case UPDATE:
			if (setStorage) {
				timer.cancel();
				setMessage = checkUpdate();
				currentEventState = VALUE_GET_ALL_EVENTS;
				if (currentScreenState == VALUE_VIEW_SCREEN) {
					addView(this);
				} else if (currentScreenState == VALUE_VIEW_DETAIL_SCREEN) {
					addEventView(this);
				} else if (currentScreenState == VALUE_VIEW_HOME_SCREEN) {
					resetViewDateInfo();
					viewDay(this, date, month, year, getDay(date, month, year), boolIsToday(date, month, year));
				} else {
					viewMonth(this, currentMonth, currentYear);
				}
				break;
			}
		case DELETE:
			if (setStorage) {
				timer.cancel();
				setMessage = checkDeleting();
				currentEventState = VALUE_GET_ALL_EVENTS;
				if (currentScreenState == VALUE_VIEW_SCREEN) {
					addView(this);
					if (eventSize <= VALUE_ADD_TO_ARRAY) {
						getPreviousPage(this);
					}
				} else if (currentScreenState == VALUE_VIEW_HOME_SCREEN) {
					resetViewDateInfo();
					viewDay(this, date, month, year, getDay(date, month, year), boolIsToday(date, month, year));
				} else {
					viewMonth(this, currentMonth, currentYear);
				}
				break;
			}
		case UNDO:
			if (setStorage) {
				timer.cancel();
				setMessage = checkUndo();
				currentEventState = VALUE_GET_ALL_EVENTS;
				if (currentScreenState == VALUE_VIEW_SCREEN) {
					addView(this);
				} else if (currentScreenState == VALUE_VIEW_HOME_SCREEN) {
					resetViewDateInfo();
					viewDay(this, date, month, year, getDay(date, month, year), boolIsToday(date, month, year));
				} else {
					viewMonth(this, currentMonth, currentYear);
				}
				break;
			}
		case UNDELETE:
			if (setStorage) {
				timer.cancel();
				setMessage = checkUndelete();
				currentEventState = VALUE_GET_ALL_EVENTS;
				if (currentScreenState == VALUE_VIEW_SCREEN) {
					addView(this);
				} else if (currentScreenState == VALUE_VIEW_HOME_SCREEN) {
					resetViewDateInfo();
					viewDay(this, date, month, year, getDay(date, month, year), boolIsToday(date, month, year));
				} else {
					viewMonth(this, currentMonth, currentYear);
				}
				break;
			}
		case EXIT:
			System.exit(0);
		case PREVIOUS:
			timer.cancel();
			setMessage = MESSAGE_EMPTY;
			getPreviousPage(this);
			break;
		case NEXT:
			timer.cancel();
			setMessage = MESSAGE_EMPTY;
			getNextPage(this);
			break;
		case HELP:
			timer.cancel();
			setMessage = MESSAGE_EMPTY;
			currentEventState = VALUE_GET_ALL_EVENTS;
			getHelp(this);
			break;
		case VIEW_MONTH:
			if (setStorage) {
				timer.cancel();
				setMessage = MESSAGE_EMPTY;
				currentEventState = VALUE_GET_ALL_EVENTS;
				viewMonth(this, month, year);
				break;
			}
		case VIEW_HOME:
			if (setStorage) {
				timer.cancel();
				setMessage = MESSAGE_EMPTY;
				currentEventState = VALUE_GET_ALL_EVENTS;
				resetViewDateInfo();
				viewDay(this, date, month, year, getDay(date, month, year), boolIsToday(date, month, year));
				break;
			}
		case NEXT_DAY:
			if (setStorage) {
				timer.cancel();
				currentEventState = VALUE_GET_ALL_EVENTS;
				setMessage = getNextDay(this);
			}
		case PREVIOUS_DAY:
			if (setStorage) {
				timer.cancel();
				currentEventState = VALUE_GET_ALL_EVENTS;
				setMessage = getPreviousDay(this);
			}
		case NEXT_MONTH:
			if (setStorage) {
				timer.cancel();
				currentEventState = VALUE_GET_ALL_EVENTS;
				setMessage = getNextMonth(this);
			}
		case PREVIOUS_MONTH:
			if (setStorage) {
				timer.cancel();
				currentEventState = VALUE_GET_ALL_EVENTS;
				setMessage = getPreviousMonth(this);
			}
		default:
			timer.cancel();
			setMessage = MESSAGE_INVALID_COMMAND;
		}
		commandBarController.setMessage(setMessage);
		commandBarController.clear();
	}
	
	private boolean checkPassedDay() {
		if (viewDate < date && viewMonth <= month && viewYear <= year) {
			return true;
		}
		return false;
	}

	private void resetViewDateInfo() {
		viewDate = date;
		viewMonth = month;
		viewYear = year;
	}

	@SuppressWarnings("deprecation")
	private int getDay(int intDate, int intMonth, int intYear) {
		Calendar thisCal = Calendar.getInstance();
		thisCal.set(intYear, intMonth, intDate);
		return thisCal.getTime().getDay();
	}
	
	/**
```
###### ./src/calendrier/gui/UserInterface.java
``` java
	 * get number of events that are passed
	 * 
	 * @param events - whole list of event
	 * 
	 * @return numOfPassedEvent - total number of events that are passed
	 * 
	 */
	private int getNumOfPassedEvents(List<Event> events) {
		int num = 0;
		Calendar thisCal = Calendar.getInstance();
		for (int i = 0; i < events.size(); i++) {
			if (events.get(i).getEndDateTime() != null) {
				if (events.get(i).getEndDateTime().compareTo(thisCal) < 0) {
					num++;
				}
			}
		}
		return num;
	}
	
	/**
```
###### ./src/calendrier/gui/UserInterface.java
``` java
	 * get number of events that are still active
	 * 
	 * @param events - whole list of event
	 * 
	 * @return numOfActiveEvent - total number of events that are still active
	 * 
	 */
	private int getNumOfOnGoingEvents(List<Event> events) {
		int num = 0;
		Calendar thisCal = Calendar.getInstance();
		for (int i = 0; i < events.size(); i++) {
			if (events.get(i).getStartDateTime() != null && events.get(i).getEndDateTime() != null) {
				if (events.get(i).getEndDateTime().compareTo(thisCal) > 0) {
					num++;
				}
			} else if (events.get(i).getStartDateTime() != null) {
				num++;
			}
		}
		return num;
	}
	
	/**
```
###### ./src/calendrier/gui/UserInterface.java
``` java
	 * get number of events that does not have deadline
	 * 
	 * @param events - whole list of event
	 * 
	 * @return numOfPassedEvent - total number of events that does not have deadline
	 * 
	 */
	private int getNumOfFloatEvents(List<Event> events) {
		int num = 0;
		for (int i = 0; i < events.size(); i++) {
			if (events.get(i).getStartDateTime() == null && events.get(i).getEndDateTime() == null) {
				num++;
			}
		}
		return num;
	}

	private boolean boolIsToday(int intDate, int intMonth, int intYear) {
		if (intDate == date && intMonth == month && intYear == year) {
			return true;
		}
		return false;
	}

	private String checkUndelete() {
		int currentEventsSize = mainLogic.getAllEvents().size();
		if (currentEventsSize != eventSize) {
			eventSize = currentEventsSize;
			events = mainLogic.getAllEvents();
			return MESSAGE_SUCCESSFUL_UNDELETE;
		} else {
			return MESSAGE_FAIL_UNDELETE;
		}
	}

	private String checkUndo() {
		int currentEventsSize = mainLogic.getAllEvents().size();
		if (currentEventsSize != eventSize) {
			eventSize = currentEventsSize;
			events = mainLogic.getAllEvents();
			return MESSAGE_SUCCESSFUL_UNDO;
		} else {
			if (checkSameEvents(mainLogic.getAllEvents())) {
				return MESSAGE_FAIL_UNDO;
			} else {
				events = mainLogic.getAllEvents();
				eventSize = currentEventsSize;
				return MESSAGE_SUCCESSFUL_UNDO;
			}
		}
	}

	private String checkUpdate() {
		List<Event> currentEvents = mainLogic.getAllEvents();
		if (checkSameEvents(currentEvents)) {
			return MESSAGE_FAIL_UPDATE;
		} else {
			return MESSAGE_SUCCESSFUL_UPDATE;
		}
	}

	private boolean checkSameEvents(List<Event> currentEvents) {
		Set<Event> currentSet = new HashSet<Event>();
		currentSet.addAll(currentEvents);
		Set<Event> eventsSet = new HashSet<Event>();
		eventsSet.addAll(events);
		return currentSet.equals(eventsSet);
	}

	private String checkDeleting() {
		int currentEventsSize = mainLogic.getAllEvents().size();
		if ((eventSize - currentEventsSize) == VALUE_TO_ADD_OR_MINUS) {
			eventSize = currentEventsSize;
			events = mainLogic.getAllEvents();
			return MESSAGE_SUCCESSFUL_DELETE;
		} else {
			return MESSAGE_FAIL_DELETE;
		}
	}

	private String checkAdding() {
		int currentEventsSize = mainLogic.getAllEvents().size();
		if ((currentEventsSize - eventSize) == VALUE_TO_ADD_OR_MINUS) {
			eventSize = currentEventsSize;
			events = mainLogic.getAllEvents();
			return MESSAGE_SUCCESSFUL_ADD;
		} else {
			return MESSAGE_FAIL_ADD;
		}
	}

	private String checkEventExist() {
		if (mainLogic.getEvent().getId() == null) {
			if (currentScreenState == VALUE_VIEW_SCREEN) {
				addView(this);
			} else if(currentScreenState == VALUE_VIEW_HOME_SCREEN) {
				viewDay(this, date, month, year, getDay(date, month, year), boolIsToday(date, month, year));
			} else if(currentScreenState == VALUE_VIEW_MONTH_SCREEN){
				viewMonth(this, currentMonth, currentYear);
			}
			return MESSAGE_FAIL_VIEW_DETAIL;
		}
		addEventView(this);
		return MESSAGE_EMPTY;
	}

	@Override
	public void onRemind(Event event) {
		new JFXPanel();
		notify(event);
	}

	private void notify(Event event) {
		Platform.runLater(new Runnable() {
			@Override
			public void run() {
				Notification noti = new Notification(MESSAGE_REMINDER, event.getTitle(), Notification.INFO_ICON);
				notifier = Notification.Notifier.INSTANCE;
				notifier.notify(noti);
			}
		});
	}
}
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * Constructor to initialize the main components of viewHome
	 * 
	 * @param time - the remaining time for next event to happen
	 * @param events - the events that happen today
	 * @param nextEvents - the next event that going to happen
	 * @param floatTask - total number of floating task
	 * @param onGoingTask - total number of on going task 
	 * @param passedTask - total number of passed task
	 * 
	 */
	public ViewController(long time, String events, String nextEvents, int floatTask, int onGoingTask, int passedTask) {
		long sec = 0, min = 0, hour = 0, day = 0;
		FXMLLoader loader = new FXMLLoader(getClass().getResource(VIEWHOME_SCREEN_LAYOUT_FXML));
		loader.setController(this);
		loader.setRoot(this);
		try {
			loader.load();
		} catch (IOException e) {
			e.printStackTrace();
		}
		lblCurrent.setText(events);
		//lblNext.setText(nextEvents);
		lblPassed.setText(Integer.toString(passedTask));
		lblOngoing.setText(Integer.toString(onGoingTask));
		lblFloat.setText(Integer.toString(floatTask));
		if (time != -1){
			sec = (time / 1000) % 60;
			min = (time / 60000) % 60;
			hour = (time / 3600000) % 24;
			day = (time / 3600000) / 24;
			lbltime.setText(Long.toString(day) + "Day " + Long.toString(hour) + "Hour " + Long.toString(min) + "Min "
					+ Long.toString(sec) + "Sec ");
		} else

		{
			lbltime.setText("-");
		}

	}
	/**
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * Constructor to initialize the main components of viewMonth
	 * 
	 * @param events - List of events in the specific month
	 * @param date - the date to be display for user
	 * @param month - the month to display for user
	 * @param year - the year to display for user
	 * 
	 */
	public ViewController(List<Event> events, int date, int month, int year) {
		int i, end;
		List<String> idList = new ArrayList<String>();

		FXMLLoader loader = new FXMLLoader(getClass().getResource(VIEWMONTH_SCREEN_LAYOUT_FXML));
		loader.setController(this);
		loader.setRoot(this);
		try {
			loader.load();
		} catch (IOException e) {
			e.printStackTrace();
		}

		Calendar cal = Calendar.getInstance();
		cal.set(year, month, 1);

		@SuppressWarnings("deprecation")
		int day = cal.getTime().getDay();

		if (day != 7) {
			date = 0;
			while (date < day) {
				getChildren().add(new EventMonthController(0, month, year, null, null));
				date++;
			}
		}

		end = detectLengthofMonth(month, year);

		lblmonth.setText(detectMonth(month));
		lblyear.setText(String.format("%d", year));
		idList = setIdMapper(events);
		for (i = 0; i < end; i++) {
			getChildren()
					.add(new EventMonthController(i + 1, month, year, detectDate(events, i + 1, month, year), idList));
		}
	}
	
	/**
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * Map short id to the real id
	 * 
	 * @param events - the events to be mapped
	 * 
	 * @return idList -  the list of id that map to the id
	 * 
	 */
	private List<String> setIdMapper(List<Event> events) {
		IdMapper idMapper = IdMapper.getInstance();
		List<String> idList = new ArrayList<String>();
		for (int i = 0; i < events.size(); i++) {
			// System.out.println(events.get(i).toString());
			idMapper.set(Integer.toString(i), events.get(i).getId());
			idList.add(events.get(i).getId());
		}
		return idList;
	}
	
	/**
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * to compute total number of day in month
	 * 
	 * @param month - the month to detect the total day
	 * @param year - the year to display
	 * 
	 * @return numOfDay - number of day in particular month
	 * 
	 */
	private int detectLengthofMonth(int month, int year) {
		int end;
		if (month == 0 || month == 2 || month == 4 || month == 6 || month == 7 || month == 9 || month == 11) {
			end = 31;
		} else if (month == 1) {
			end = detectLeapYear(year);
		} else {
			end = 30;
		}
		return end;
	}
	
	/**
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * convert month from integer to string
	 * 
	 * @param month - the month to be convert
	 * 
	 * @return String of month
	 * 
	 */
	private String detectMonth(int month) {
		switch (month) {
		case 0:
			return "JANUARY";
		case 1:
			return "FEBUARY";
		case 2:
			return "MARCH";
		case 3:
			return "APRIL";
		case 4:
			return "MAY";
		case 5:
			return "JUNE";
		case 6:
			return "JULY";
		case 7:
			return "AUGUST";
		case 8:
			return "SEPTEMBER";
		case 9:
			return "OCTOBER";
		case 10:
			return "NOVEMBER";
		case 11:
			return "DECEMBER";
		}
		return null;
	}
	
	/**
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * determine for leap year
	 * 
	 * @param year - the year to be determine for leap year
	 * 
	 * @return numOfDay - number of day in February for that year
	 * 
	 */
	private int detectLeapYear(int year) {
		if ((year % 4 == 0 && year % 100 != 0) || (year % 400 == 0)) {
			return 29;
		}
		return 28;
	}
	
	/**
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * detect the number of events in particular date
	 * 
	 * @param year - the year to display for user
	 * @param month - the month to display for user
	 * @param date - the date to display for user
	 * @param events - the list of events for a month
	 * 
	 * @return eventList -total event in a date
	 * 
	 */
	@SuppressWarnings("deprecation")
	public List<Event> detectDate(List<Event> events, int date, int month, int year) {
		int i;
		List<Event> results = new ArrayList<Event>();

		for (i = 0; i < events.size(); i++) {
			if (events.get(i).getStartDateTime() != null && events.get(i).getEndDateTime() != null) {
				// Start and end in same year
				if (events.get(i).getEndDateTime().getTime().getYear() + 1900 == year
						&& events.get(i).getStartDateTime().getTime().getYear() + 1900 == year) {

					if ((events.get(i).getEndDateTime().getTime().getDate() >= date
							&& events.get(i).getEndDateTime().getTime().getMonth() == month)
							&& (events.get(i).getStartDateTime().getTime().getDate() <= date
									&& events.get(i).getStartDateTime().getTime().getMonth() == month)) {
						results.add(events.get(i));
					} else if (events.get(i).getStartDateTime().getTime().getMonth() == month
							&& events.get(i).getEndDateTime().getTime().getMonth() > month) {
						if (events.get(i).getStartDateTime().getTime().getDate() <= date) {
							results.add(events.get(i));
						}
					} else if (events.get(i).getStartDateTime().getTime().getMonth() < month
							&& events.get(i).getEndDateTime().getTime().getMonth() == month) {
						if (events.get(i).getEndDateTime().getTime().getDate() >= date) {
							results.add(events.get(i));
						}
					} else if (events.get(i).getStartDateTime().getTime().getMonth() < month
							&& events.get(i).getEndDateTime().getTime().getMonth() > month) {
						results.add(events.get(i));
					}
				}
				// Start year < end year, set for start year
				else if (events.get(i).getEndDateTime().getTime().getYear() + 1900 > year
						&& events.get(i).getStartDateTime().getTime().getYear() + 1900 == year) {
					if (events.get(i).getStartDateTime().getTime().getMonth() == month) {
						if (events.get(i).getStartDateTime().getTime().getDate() <= date) {
							results.add(events.get(i));
						}
					} else if (events.get(i).getStartDateTime().getTime().getMonth() < month) {
						results.add(events.get(i));
					}
				}
				// Start year < end year, set for end year
				else if (events.get(i).getEndDateTime().getTime().getYear() + 1900 == year
						&& events.get(i).getStartDateTime().getTime().getYear() + 1900 < year) {
					if (events.get(i).getEndDateTime().getTime().getMonth() == month) {
						if (events.get(i).getEndDateTime().getTime().getDate() >= date) {
							results.add(events.get(i));
						}
					} else if (events.get(i).getEndDateTime().getTime().getMonth() > month) {
						results.add(events.get(i));
					}
				}
			}
			// for task without enddate
			else {
				if (events.get(i).getStartDateTime().getTime().getDate() == date) {
					if (events.get(i).getStartDateTime().getTime().getMonth() == month) {
						results.add(events.get(i));
					}
				}
			}
		}
		return results;
	}
	
	/**
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * check for month
	 * 
	 * @param month - the month to be check
	 * 
	 * @return month -the checked month
	 * 
	 */
	public int checkMonth(int month) {
		if (month > 11) {
			return 12;
		}
		return month;
	}
	

	public ViewController(List<Event> events, int startIndex) {
		FXMLLoader loader = new FXMLLoader(getClass().getResource(VIEW_SCREEN_LAYOUT_FXML));
		loader.setController(this);
		loader.setRoot(this);
		try {
			loader.load();
		} catch (IOException e) {
			e.printStackTrace();
		}
		setHand(events, startIndex);
	}

	public void setHand(List<Event> events, int startIndex) {

		int endingIndex = startIndex + VALUE_ADD_TO_ARRAY;

		if ((endingIndex) > events.size()) {
			endingIndex = events.size();
		}

		int end = endingIndex - startIndex;

		for (int i = 0; i < end; i++) {
			addEvent(events.get(startIndex + i), i);
		}
	}

	public void addEvent(Event event, int position) {
		getChildren().add(new EventBoxController(event, position));
	}
}
```
###### ./src/calendrier/resources/EventMonth.fxml
``` fxml
<fx:root type="StackPane" xmlns="http://javafx.com/javafx/8.0.40"
	xmlns:fx="http://javafx.com/fxml">
	<children>
		<GridPane fx:id="eventGridPaneMonth" xmlns="http://javafx.com/javafx/8.0.40"
			xmlns:fx="http://javafx.com/fxml" hgap="20" vgap="20" prefWidth="160.0"
			prefHeight="100.0" maxWidth="160.0" maxHeight="100.0">
			<children>
				<Label fx:id="lblDate" GridPane.rowIndex="0"
					GridPane.columnIndex="0" GridPane.columnSpan="3" wrapText="true"/>
				<Label fx:id="lblEventID1" GridPane.rowIndex="1"
					GridPane.columnIndex="1" wrapText="true" />
				<Label fx:id="lblEvent1" GridPane.rowIndex="1"
					GridPane.columnIndex="2" wrapText="true" />
				<Label fx:id="lblEventID2" GridPane.rowIndex="2"
					GridPane.columnIndex="1" wrapText="true" />
				<Label fx:id="lblEvent2" GridPane.rowIndex="2"
					GridPane.columnIndex="2" wrapText="true" />
				<Label fx:id="lblEvent3" GridPane.rowIndex="3"
					GridPane.columnIndex="2" wrapText="true" />
			</children>
		</GridPane>
	</children>
</fx:root>

```
###### ./src/calendrier/resources/Home.fxml
``` fxml
<fx:root type="FlowPane" fx:id="flowPaneAllEvents" xmlns="http://javafx.com/javafx/8.0.40"
	xmlns:fx="http://javafx.com/fxml/1" prefWidth="850.0" prefHeight="500.0"
	maxWidth="850.0" maxHeight="500.0">
	<children>
		<GridPane styleClass="gridPaneHelpScreen" xmlns="http://javafx.com/javafx/8.0.40"
			xmlns:fx="http://javafx.com/fxml/1" prefWidth="1000.0" prefHeight="700.0"
			maxWidth="1000.0" maxHeight="600.0" vgap="30" hgap="100">
			<children>
				<Label fx:id="lblCurrentEvent" text="Current Task"
					GridPane.rowSpan="3" GridPane.rowIndex="1" GridPane.columnIndex="2"
					GridPane.columnSpan="20" />
				<Label fx:id="lblCurrent" GridPane.rowSpan="3"
					GridPane.rowIndex="4" GridPane.columnIndex="2" GridPane.columnSpan="20" />
				<!-- <Label fx:id="lblCurrentEvent" text="Next Task"
					GridPane.rowSpan="3" GridPane.rowIndex="10" GridPane.columnIndex="2"
					GridPane.columnSpan="20" />
				<Label fx:id="lblNext" GridPane.rowSpan="3" GridPane.rowIndex="13"
					GridPane.columnIndex="2" GridPane.columnSpan="20" /> -->
				<Label fx:id="lblCurrentEvent" text="Overdue Task"
					GridPane.rowSpan="3" GridPane.rowIndex="20" GridPane.columnIndex="2"
					GridPane.columnSpan="20" />
				<Label fx:id="lblPassed" GridPane.rowSpan="3"
					GridPane.rowIndex="25" GridPane.columnIndex="10"
					GridPane.columnSpan="3" />
				<Label fx:id="lblCurrentEvent" text="Ongoing Task"
					GridPane.rowSpan="3" GridPane.rowIndex="20" GridPane.columnIndex="33"
					GridPane.columnSpan="20" />
				<Label fx:id="lblOngoing" GridPane.rowSpan="3"
					GridPane.rowIndex="25" GridPane.columnIndex="41"
					GridPane.columnSpan="3" />
				<Label fx:id="lblCurrentEvent" text="Float Task"
					GridPane.rowSpan="3" GridPane.rowIndex="20" GridPane.columnIndex="65"
					GridPane.columnSpan="20" />
				<Label fx:id="lblFloat" GridPane.rowSpan="3"
					GridPane.rowIndex="25" GridPane.columnIndex="70"
					GridPane.columnSpan="5" />
				<Label fx:id="lblCurrentEvent" text="Countdown to Next Event"
					GridPane.rowSpan="3" GridPane.rowIndex="38" GridPane.columnIndex="55"
					GridPane.columnSpan="40" />
				<Label fx:id="lbltime" GridPane.rowIndex="40" GridPane.rowSpan="3" 
					GridPane.columnIndex="65" wrapText="true" GridPane.columnSpan="25" />
			</children>
		</GridPane>
		<!-- <Label styleClass="storageMessage" text="* Create storage file first: 
			'save in &#60;FOLDER_NAME&#62;'" StackPane.alignment="BOTTOM_CENTER" /> -->
	</children>
</fx:root>
```
###### ./src/calendrier/resources/ViewMonth.fxml
``` fxml
<fx:root type="FlowPane" fx:id="flowPaneMonthEvents" xmlns="http://javafx.com/javafx/8.0.40"
	xmlns:fx="http://javafx.com/fxml/1" prefWidth="550.0" prefHeight="500.0"
	maxWidth="1200.0" maxHeight="1200.0">
	<GridPane fx:id="monthGridPane" xmlns="http://javafx.com/javafx/8.0.40"
		xmlns:fx="http://javafx.com/fxml" hgap="4" vgap="4" prefWidth="1200.0"
		prefHeight="15.0" maxWidth="1200.0" maxHeight="15.0">
		<children>
			<Label fx:id="lblmonth" GridPane.columnIndex="5" GridPane.rowIndex="2" />
			<Label fx:id="lblyear" GridPane.columnIndex="8" GridPane.rowIndex="2" />
		</children>
	</GridPane>
	<GridPane fx:id="monthGridPane" xmlns="http://javafx.com/javafx/8.0.40"
		xmlns:fx="http://javafx.com/fxml" hgap="5" vgap="5" prefWidth="1200.0"
		prefHeight="20.0" maxWidth="1200.0" maxHeight="20.0">
		<children>
			<Label styleClass="displayText" text="Sunday"
				GridPane.columnIndex="11" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Monday"
				GridPane.columnIndex="32" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Tuesday"
				GridPane.columnIndex="52" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Wednesday"
				GridPane.columnIndex="70" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Thursday"
				GridPane.columnIndex="87" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Friday"
				GridPane.columnIndex="107" GridPane.rowIndex="2"
				GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Saturday"
				GridPane.columnIndex="129" GridPane.rowIndex="2"
				GridPane.columnSpan="2" />

		</children>
	</GridPane>
	<children>
	</children>

</fx:root>
```
###### ./src/calendrier/StorageManager.java
``` java
 * For handling the main logic
 * 
 * @author hiumengxiong
 *
 */
public class StorageManager {
	
	private static String fileName=null;
	private static List<String> inputData;
	private static String line;
	//private static Logger theLogger = Logger.getLogger(StorageManager.class.getName());
//	FileHandler logFile;
	
	/**
```
###### ./src/calendrier/StorageManager.java
``` java
	 * Constructor to initialize the main components of Storage Manager
	 */
	public StorageManager(){
		inputData=new ArrayList<String>();
//		try {
//			logFile = new FileHandler("storage.log", true);
//		} catch (SecurityException | IOException e) {
//			// TODO Auto-generated catch block
//			e.printStackTrace();
//		}
		//theLogger.addHandler(logFile);
//	    theLogger.setLevel(Level.ALL);
//	    theLogger.setUseParentHandlers(false);
	}
	
	/**
```
###### ./src/calendrier/StorageManager.java
``` java
	 * return a list of String from text file
	 * 
	 * @return listOfString - a list of string capture from text file
	 * 
	 */
	public List<String> load(){
		inputData.clear();
		processFile(fileName);
		return inputData;
	}
	/**
```
###### ./src/calendrier/StorageManager.java
``` java
	 * Convert the current list of event to string
	 * 
	 *  @return String - String the consist of all the events
	 * 
	 */
	public String listToString(){
		int i;
		
		String result="";
		List<String> data=new ArrayList<String>();
		data=load();
		
		for(i=0;i<data.size();i++){
			result=result.concat(data.get(i).toString()+"\n");
		}
		return result;
	}
	
	/**
```
###### ./src/calendrier/StorageManager.java
``` java
	 * Check for the file location
	 * 
	 * @param fileLocation
	 *            the location that provided by event handler
	 */
	public void setStorageLocation(String fileLocation) {
		if (fileLocation.length() == 0) {
			System.out.println("Cannot detect the specific file!");
		}
		File file = new File(fileLocation);
		try {
			if (!file.exists()) {

				file.createNewFile();

			}
			processFile(fileLocation);
		} catch (IOException e) {
			e.printStackTrace();
			System.out.println(e.getMessage());
		}
		//theLogger.log(Level.INFO, "set file location!");
	}

	/**
```
###### ./src/calendrier/StorageManager.java
``` java
	 * Save the list of event into text file
	 * 
	 * @param data
	 *            the list of events to be save in text file.
	 */
	public void save(List<Event> data) {
		int i;
		assert(data !=  null);  
		
		if (fileName == null) {
			setStorageLocation("storageFile.txt");
		}

		try {
			FileWriter fileWrite = new FileWriter(fileName);
			BufferedWriter bufferWrite = new BufferedWriter(fileWrite);
			PrintWriter fileOut = new PrintWriter(bufferWrite);

			for (i = 0; i < data.size(); i++) {
				fileOut.println(data.get(i).toString());
			}

			fileOut.close();
		} catch (Exception e) {
			System.out.println(e.toString());
		}
		//theLogger.log(Level.INFO, "Successfully save data into file!");
	}

	/**
```
###### ./src/calendrier/StorageManager.java
``` java
	 * Read data from text file
	 * 
	 * @param fileLocation
	 *            location of the text file to be process
	 */
	public void processFile(String fileLocation) {

		fileName = fileLocation;
		inputData = new ArrayList<String>();

		try {
			FileReader inputFile = new FileReader(fileName);
			BufferedReader bufferReader = new BufferedReader(inputFile);

			// Read file line by line and store into arraylist
			while ((line = bufferReader.readLine())!=null) {
				inputData.add(line);
			}
			bufferReader.close();
		} catch (Exception e) {
			System.out.println("Error while reading file: " + e.getMessage());
		}
		//theLogger.log(Level.INFO, "Successfully load data from file!");
	}
}
```
###### ./src/test/StorageManagerTest.java
``` java
 * @author hiumengxiong
 * 
 */
public class StorageManagerTest {
	
```
###### ./src/test/StorageManagerTest.java
``` java
	@Test
	public void loadFromFile(){
		StorageManager rm= new StorageManager();
		rm.setStorageLocation("storageFile.txt") ;
		assertEquals("id: testId, " + "mainId: null, " + "title: testTitle, " + "startDateTime: 2015/10/20-10:33, "
				+ "endDateTime: 2015/10/21-11:34, " + "priority: MEDIUM, " + "location: test location, "
				+ "notes: test note, " + "reminder: [2015/10/20-10:33], " + "groups: null, "
				+ "recurrence: null, " + "subtasks: [], done: false, \nid: test123, " + "mainId: null, " + "title: 123Title, " + "startDateTime: null, "
				+ "endDateTime: null, " + "priority: HIGH, " + "location: test123123, "
				+ "notes: test note123213, " + "reminder: [], " + "groups: null, "
				+ "recurrence: null, " + "subtasks: [], done: false, \n", rm.listToString());
	}
	
```
###### ./src/test/StorageManagerTest.java
``` java
	@Test
	public void testSave() {
		
		StorageManager rm= new StorageManager();
		List<Event> data= new ArrayList<Event>();
		
		rm.setStorageLocation("storageFile.txt") ;

		Calendar calendarStart = Calendar.getInstance(TimeZone.getTimeZone("GMT+8:00"));
		calendarStart.set(2015, 9, 20, 10, 33, 25);
		Calendar calendarEnd = Calendar.getInstance();
		calendarEnd.set(2015, 9, 21, 11, 34, 26);

		Event event = new Event();
		event.setId("testId");
		event.setTitle("testTitle");
		event.setStartDateTime(calendarStart);
		event.setEndDateTime(calendarEnd);
		event.setPriority(Priority.MEDIUM);
		event.setLocation("test location");
		event.setNotes("test note");
		event.setReminder(calendarStart);
		data.add(event);
		
		Event event1 = new Event();
		event1.setId("test123");
		event1.setTitle("123Title");
		event1.setPriority(Priority.HIGH);
		event1.setLocation("test123123");
		event1.setNotes("test note123213");
		data.add(event1);
		
		rm.save(data);
		assertEquals("id: testId, " + "mainId: null, " + "title: testTitle, " + "startDateTime: 2015/10/20-10:33, "
				+ "endDateTime: 2015/10/21-11:34, " + "priority: MEDIUM, " + "location: test location, "
				+ "notes: test note, " + "reminder: [2015/10/20-10:33], " + "groups: null, "
				+ "recurrence: null, " + "subtasks: [], done: false, \nid: test123, " + "mainId: null, " + "title: 123Title, " + "startDateTime: null, "
				+ "endDateTime: null, " + "priority: HIGH, " + "location: test123123, "
				+ "notes: test note123213, " + "reminder: [], " + "groups: null, "
				+ "recurrence: null, " + "subtasks: [], done: false, \n", rm.listToString());
		
	}
}
```
