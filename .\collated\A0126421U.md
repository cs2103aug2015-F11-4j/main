# A0126421U
###### ./bin/calendrier/resources/EventMonth.fxml
``` fxml
<?import java.lang.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import java.net.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

```
###### ./bin/calendrier/resources/EventMonth.fxml
``` fxml
<fx:root type="StackPane" xmlns="http://javafx.com/javafx/8.0.40"
	xmlns:fx="http://javafx.com/fxml">
	<children>
		<GridPane fx:id="eventGridPaneMonth" xmlns="http://javafx.com/javafx/8.0.40"
			xmlns:fx="http://javafx.com/fxml" hgap="20" vgap="20" prefWidth="160.0"
			prefHeight="100.0" maxWidth="160.0" maxHeight="100.0">
			<children>
				<Label fx:id="lblDate" GridPane.rowIndex="0"
					GridPane.columnIndex="0" GridPane.columnSpan="3" wrapText="true"/>
				<Label fx:id="lblEventID1" GridPane.rowIndex="1"
					GridPane.columnIndex="1" wrapText="true" />
				<Label fx:id="lblEvent1" GridPane.rowIndex="1"
					GridPane.columnIndex="2" wrapText="true"/>
				<Label fx:id="lblEventID2" GridPane.rowIndex="2"
					GridPane.columnIndex="1" wrapText="true" />
				<Label fx:id="lblEvent2" GridPane.rowIndex="2"
					GridPane.columnIndex="2"  wrapText="true"/>
				<Label fx:id="lblEvent3" GridPane.rowIndex="3"
					GridPane.columnIndex="1" GridPane.columnSpan="3" wrapText="true"/>
			</children>
		</GridPane>
	</children>
</fx:root>

```
###### ./bin/calendrier/resources/Home.fxml
``` fxml
<fx:root type="FlowPane" fx:id="flowPaneHomeEvents" xmlns="http://javafx.com/javafx/8.0.40"
	xmlns:fx="http://javafx.com/fxml/1" prefWidth="1000.0" prefHeight="600.0"
	maxWidth="1000.0" maxHeight="600.0">
	<children>
		<GridPane styleClass="gridPaneHelpScreen" xmlns="http://javafx.com/javafx/8.0.40"
			xmlns:fx="http://javafx.com/fxml/1" prefWidth="1000.0" prefHeight="600.0"
			maxWidth="1000.0" maxHeight="600.0" vgap="10" hgap="20">
			<columnConstraints>
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
			</columnConstraints>
			<rowConstraints>
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="5.0" />
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="5.0" />
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="10.0" />
			</rowConstraints>
			<children>
				<Label fx:id="lblCurrentEvent" text="Current Task"
					GridPane.rowIndex="0" GridPane.columnIndex="0" GridPane.columnSpan="3" />

				<FlowPane fx:id="flowPaneCurrentEvents" xmlns="http://javafx.com/javafx/8.0.40"
					xmlns:fx="http://javafx.com/fxml/1" prefWidth="850.0" vgap="5"
					maxWidth="850.0" GridPane.rowIndex="1" GridPane.columnIndex="0"
					GridPane.columnSpan="10">
					<children>
					</children>
				</FlowPane>
				<Label fx:id="lblMoreEvent"
					GridPane.rowIndex="1" GridPane.columnIndex="9"/>

				<Label fx:id="lblCurrentEvent" text="Next Task       "
					GridPane.rowIndex="2" GridPane.columnIndex="0" GridPane.columnSpan="3" />

				<FlowPane fx:id="flowPaneNextEvents" xmlns="http://javafx.com/javafx/8.0.40"
					xmlns:fx="http://javafx.com/fxml/1" prefWidth="850.0" vgap="5"
					maxWidth="850.0" GridPane.rowIndex="3" GridPane.columnIndex="0"
					GridPane.columnSpan="10">
					<children>
					</children>
				</FlowPane>
				<!-- <Label fx:id="lblMoreNextEvent"
					GridPane.rowIndex="3" GridPane.columnIndex="9"/> -->

				<Label fx:id="lblCurrentEvent" text="Overdue Task"
					GridPane.rowIndex="5" GridPane.columnIndex="0" GridPane.columnSpan="3" />
				<Label fx:id="lblCurrentEvent" text="Ongoing Task  "
					GridPane.rowIndex="5" GridPane.columnIndex="3" GridPane.columnSpan="4" />
				<Label fx:id="lblCurrentEvent" text="Floating Task"
					GridPane.rowIndex="5" GridPane.columnIndex="7" GridPane.columnSpan="3" />

				<Label fx:id="lblPassed" GridPane.rowIndex="6"
					GridPane.columnIndex="0" GridPane.columnSpan="3" />
				<Label fx:id="lblOngoing" GridPane.rowIndex="6"
					GridPane.columnIndex="3" GridPane.columnSpan="4" />
				<Label fx:id="lblFloat" GridPane.rowIndex="6"
					GridPane.columnIndex="7" GridPane.columnSpan="3" />

				<Label fx:id="lblNextTask" GridPane.rowIndex="8"
					GridPane.columnIndex="0" GridPane.columnSpan="10" />

				<Label fx:id="lbltimeDay" GridPane.rowIndex="9"
					GridPane.columnIndex="3" />
				<Label fx:id="lbltimeHour" GridPane.rowIndex="9"
					GridPane.columnIndex="4" />
				<Label fx:id="lbltimeMin" GridPane.rowIndex="9"
					GridPane.columnIndex="5" />
				<Label fx:id="lbltimeSec" GridPane.rowIndex="9"
					GridPane.columnIndex="6" />

				<Label fx:id="lbltimeTitle" text="Day" GridPane.rowIndex="10"
					GridPane.columnIndex="3" />
				<Label fx:id="lbltimeTitle" text="Hour" GridPane.rowIndex="10"
					GridPane.columnIndex="4" />
				<Label fx:id="lbltimeTitle" text="Min" GridPane.rowIndex="10"
					GridPane.columnIndex="5" />
				<Label fx:id="lbltimeTitle" text="Sec" GridPane.rowIndex="10"
					GridPane.columnIndex="6" />
			</children>
		</GridPane>
	</children>
</fx:root>
```
###### ./bin/calendrier/resources/HomeEventBox.fxml
``` fxml
<?import java.lang.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<fx:root type="StackPane" xmlns="http://javafx.com/javafx/8.0.40"
	xmlns:fx="http://javafx.com/fxml">
	<children>
		<GridPane fx:id="homeEventGridPane" xmlns="http://javafx.com/javafx/8.0.40"
			xmlns:fx="http://javafx.com/fxml" hgap="10" vgap="10" prefWidth="150.0"
			prefHeight="50.0" maxWidth="150.0" maxHeight="50.0">
			<columnConstraints>
				<ColumnConstraints percentWidth="15.0" />
				<ColumnConstraints percentWidth="85.0" />
			</columnConstraints>
			<children>
				<Label fx:id="lblHomeEventID" GridPane.rowIndex="0"
					GridPane.columnIndex="0" wrapText="true" />
				<Label fx:id="lblHomeEventTitle" GridPane.rowIndex="0"
					GridPane.columnIndex="1" wrapText="true" />
			</children>
		</GridPane>
	</children>
</fx:root>
```
###### ./bin/calendrier/resources/ViewMonth.fxml
``` fxml
<?import java.lang.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

```
###### ./bin/calendrier/resources/ViewMonth.fxml
``` fxml
<fx:root type="FlowPane" fx:id="flowPaneMonthEvents" xmlns="http://javafx.com/javafx/8.0.40"
	xmlns:fx="http://javafx.com/fxml/1" prefWidth="550.0" prefHeight="500.0"
	maxWidth="1200.0" maxHeight="1200.0">
	<GridPane fx:id="monthGridPane" xmlns="http://javafx.com/javafx/8.0.40"
		xmlns:fx="http://javafx.com/fxml" hgap="4" vgap="4" prefWidth="1200.0"
		prefHeight="15.0" maxWidth="1200.0" maxHeight="15.0">
		<children>
			<Label fx:id="lblmonth" GridPane.columnIndex="5" GridPane.rowIndex="2" />
			<Label fx:id="lblyear" GridPane.columnIndex="8" GridPane.rowIndex="2" />
		</children>
	</GridPane>
	<GridPane fx:id="monthGridPane" xmlns="http://javafx.com/javafx/8.0.40"
		xmlns:fx="http://javafx.com/fxml" hgap="5" vgap="5" prefWidth="1200.0"
		prefHeight="20.0" maxWidth="1200.0" maxHeight="20.0">
		<children>
			<Label styleClass="displayText" text="Sunday"
				GridPane.columnIndex="11" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Monday"
				GridPane.columnIndex="29" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Tuesday"
				GridPane.columnIndex="47" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Wednesday"
				GridPane.columnIndex="63" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Thursday"
				GridPane.columnIndex="77" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Friday"
				GridPane.columnIndex="95" GridPane.rowIndex="2"
				GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Saturday"
				GridPane.columnIndex="116" GridPane.rowIndex="2"
				GridPane.columnSpan="2" />

		</children>
	</GridPane>
	<children>
	</children>
</fx:root>
```
###### ./src/calendrier/gui/EventDetailController.java
``` java
		if(subEvents.size()!=0){
			lblSUBID.setText(subEvents.get(0).getTitle());
			if(event.getSubtasks().size()>1){
				lblSUBID1.setText(subEvents.get(1).getTitle());
			}
		}else{
			lblSUBID.setText(VALUE_SHOW_EMPTY_DATA);
		}
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
 * For generate the children object for viewMonth
 * 
 * @author hiumengxiong
 *
 */
public class EventMonthController extends StackPane {

	@FXML
	private GridPane eventGridPaneMonth;
	@FXML
	private Label lblDate;
	@FXML
	private Label lblEventID1;
	@FXML
	private Label lblEventID2;
	@FXML
	private Label lblEvent1;
	@FXML
	private Label lblEvent2;
	@FXML
	private Label lblEvent3;

	private static final String SINGLE_EVENT_LAYOUT_FXML = "/calendrier/resources/EventMonth.fxml";

	private static final String VALUE_SHOW_EMPTY_DATA = " ";

	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Constructor to initialize the main components of
	 *          EventMonthController
	 * 
	 * @param date
	 *            - Date to be display
	 * @param month
	 *            - Month to be display
	 * @param year
	 *            - Year to be display
	 * @param events
	 *            - List of events for the this date
	 * @param idList
	 *            - The id to be display to user user, which will link for
	 *            idMapper
	 * 
	 */
	public EventMonthController(int date, int month, int year, List<Event> events, List<String> idList) {
		FXMLLoader loader = new FXMLLoader(getClass().getResource(SINGLE_EVENT_LAYOUT_FXML));
		loader.setController(this);
		loader.setRoot(this);
		try {
			loader.load();
		} catch (IOException e) {
			e.printStackTrace();
		}
		initEventValue(date, month, year, events, idList);
	}

	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Fill in details for EventMonth
	 * 
	 * @param date
	 *            - Date to be display
	 * @param month
	 *            - Month to be display
	 * @param year
	 *            - Year to be display
	 * @param events
	 *            - List of events for the this date
	 * @param idList
	 *            - The id to be display to user user, which will link for
	 *            idMapper
	 * 
	 */
	public void initEventValue(int date, int month, int year, List<Event> events, List<String> idList) {

		Calendar cal = Calendar.getInstance();

		setContainerForDate(date, events, idList);
		setForToday(date, month, year, cal);
		setForPassedEvents(date, month, year, cal);
	}

	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Set Detail for each date
	 * 
	 * @param date
	 *            - Date to be display
	 * @param events
	 *            - List of events for the this date
	 * @param idList
	 *            - The id to be display to user user, which will link for
	 *            idMapper
	 * 
	 */
	private void setContainerForDate(int date, List<Event> events, List<String> idList) {

		lblDate.setText(checkDate(date));

		if (events != null && events.size() > 0) {
			setData(events, idList);
		} else {
			setEmptyData();
		}
	}

	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Fill in details for each date
	 * 
	 * @param events
	 *            - List of events for the this date
	 * @param idList
	 *            - The id to be display to user user, which will link for
	 *            idMapper
	 * 
	 */
	private void setData(List<Event> events, List<String> idList) {
		if (events.get(0).getTitle() != null) {
			setTaskInDate(events.get(0), Integer.toString(computeFakeId(idList, events.get(0).getId())), lblEvent1,
					lblEventID1);
			if (events.size() > 1) {
				setTaskInDate(events.get(1), Integer.toString(computeFakeId(idList, events.get(1).getId())), lblEvent2,
						lblEventID2);
				if (events.size() > 2) {
					lblEvent3.setText(String.format(" + %d more...", events.size() - 2));
					changeTextColor(Priority.VERY_HIGH, lblEvent3);
				}
			}
		} else {
			setEmptyData();
		}
	}

	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Set parameter for date
	 * 
	 * 
	 */
	private void setTaskInDate(Event events, String Id, Label lblEvent, Label lblEventId) {
		lblEvent.setText(events.getTitle());
		lblEventId.setText(Id);
		if (events.isDone()) {
			changeTextDecoration(lblEvent);
		}
		changeTextColor(events.getPriority(), lblEvent);
	}

	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Set empty data
	 * 
	 * 
	 */
	private void setEmptyData() {
		lblEvent1.setText(VALUE_SHOW_EMPTY_DATA);
		lblEvent2.setText(VALUE_SHOW_EMPTY_DATA);
		lblEvent3.setText(VALUE_SHOW_EMPTY_DATA);
	}

	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Set Color for Today
	 * 
	 * 
	 */
	@SuppressWarnings("deprecation")
	private void setForToday(int date, int month, int year, Calendar cal) {
		if (cal.getTime().getDate() == date && cal.getTime().getMonth() == month
				&& (cal.getTime().getYear() + 1900) == year) {
			eventGridPaneMonth.setStyle("-fx-border-color: red;-fx-border-width: 2.0px;");
		}
	}

	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Fill in details for EventMonth
	 * 
	 * @param date
	 *            - Date to be display
	 * @param month
	 *            - Month to be display
	 * @param year
	 *            - Year to be display
	 * @param cal
	 *            - calendar of today
	 * 
	 */
	@SuppressWarnings("deprecation")
	private void setForPassedEvents(int date, int month, int year, Calendar cal) {
		if (cal.getTime().getDate() > date && cal.getTime().getMonth() >= month
				&& (cal.getTime().getYear() + 1900) >= year) {
			lblEvent1.setStyle("-fx-text-fill: darkgray;");
			lblEvent2.setStyle("-fx-text-fill: darkgray;");
			lblEvent3.setStyle("-fx-text-fill: darkgray;");
			lblEventID1.setStyle("-fx-text-fill: darkgray;");
			lblEventID2.setStyle("-fx-text-fill: darkgray;");
		} else if (cal.getTime().getMonth() > month && (cal.getTime().getYear() + 1900) >= year) {
			lblEvent1.setStyle("-fx-text-fill: darkgray;");
			lblEvent2.setStyle("-fx-text-fill: darkgray;");
			lblEvent3.setStyle("-fx-text-fill: darkgray;");
			lblEventID1.setStyle("-fx-text-fill: darkgray;");
			lblEventID2.setStyle("-fx-text-fill: darkgray;");
		}
	}

	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Compute the fake id that display to the user.
	 * 
	 * @param idList
	 *            - The id to be display to user user, which will link for
	 *            idMapper
	 * @param id
	 *            - the actual id of current event
	 * 
	 * @return fakedId - the short id to be display to the user.
	 * 
	 */
	private int computeFakeId(List<String> idList, String id) {
		for (int i = 0; i < idList.size(); i++) {
			if (idList.get(i).equals(id)) {
				return i;
			}
		}
		return -1;
	}

	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * check the existence of date
	 * 
	 * @param date
	 *            - Date to be check
	 * 
	 * @return String of Date
	 * 
	 */
	private String checkDate(int date) {
		if (date != 0) {
			return String.format("%d", date);
		}
		return VALUE_SHOW_EMPTY_DATA;
	}

	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Strike through the event if is done
	 * 
	 * @param lblEvent
	 *            - the layout to be modified
	 * 
	 */
	private void changeTextDecoration(Label lblEvent) {
		lblEvent.getStyleClass().remove(lblEvent.styleProperty());
		lblEvent.getStyleClass().add("lblEventStrikeThrough");
	}

	/**
```
###### ./src/calendrier/gui/EventMonthController.java
``` java
	 * Change the text style for undone task based on
	 *          priority
	 * 
	 * @param priority
	 *            - the priority of the current event
	 * @param lblEvent
	 *            - the layout to be modified
	 * 
	 */
	private void changeTextColor(Priority priority, Label lblEvent) {
		if (priority == Priority.VERY_HIGH) {
			lblEvent.setStyle("-fx-text-fill: red;");
		} else if (priority == Priority.HIGH) {
			lblEvent.setStyle("-fx-text-fill: #FFA07A;");
		} else if (priority == Priority.MEDIUM) {
			lblEvent.setStyle("-fx-text-fill: gold;");
		} else if (priority == Priority.LOW) {
			lblEvent.setStyle("-fx-text-fill: #00FF7F;");
		} else if (priority == Priority.VERY_LOW) {
			lblEvent.setStyle("-fx-text-fill: #2E8B57;");
		} else {
			lblEvent.setStyle("-fx-text-fill: black;");
		}
	}
}
```
###### ./src/calendrier/gui/HomeEventBoxController.java
``` java
package calendrier.gui;

import java.io.IOException;

import javafx.fxml.FXML;
import javafx.fxml.FXMLLoader;
import javafx.scene.control.Label;
import javafx.scene.layout.GridPane;
import javafx.scene.layout.StackPane;
import utils.Event;
import utils.Priority;

public class HomeEventBoxController extends StackPane {

	@FXML
	private Label lblHomeEventTitle;
	@FXML
	private Label lblHomeEventID;
	@FXML
	private GridPane homeEventGridPane;

	private static final String SINGLE_DATED_EVENT_LAYOUT_FXML = "/calendrier/resources/HomeEventBox.fxml";

	/**
```
###### ./src/calendrier/gui/HomeEventBoxController.java
``` java
	 * 
	 *          Constructor to initialize the main components of homeEventBox
	 * 
	 * @param event
	 *            - event to be display
	 * 
	 */
	public HomeEventBoxController(Event event, int id) {
		FXMLLoader loader = new FXMLLoader(getClass().getResource(SINGLE_DATED_EVENT_LAYOUT_FXML));
		loader.setController(this);
		loader.setRoot(this);
		try {
			loader.load();
		} catch (IOException e) {
			e.printStackTrace();
		}

		initEventValue(event, id);
	}

	/**
```
###### ./src/calendrier/gui/HomeEventBoxController.java
``` java
	 * 
	 *          Set the detail in the homeEventBox
	 * 
	 * @param event
	 *            - the event to be show
	 * 
	 */
	private void initEventValue(Event event, int id) {
		lblHomeEventID.setText(String.format("%d.", id));
		lblHomeEventTitle.setText(event.getTitle());
		if (event.isDone()) {
			changeTextDecoration(lblHomeEventTitle);
		}
		changeBorderColor(event.getPriority());
	}

	/**
```
###### ./src/calendrier/gui/HomeEventBoxController.java
``` java
	 * Strike through the event if is done
	 * 
	 * @param lblEvent
	 *            - the layout to be modified
	 * 
	 */
	private void changeTextDecoration(Label lblEvent) {
		lblEvent.getStyleClass().remove(lblEvent.styleProperty());
		lblEvent.getStyleClass().add("lblEventStrikeThrough");
	}

	/**
```
###### ./src/calendrier/gui/HomeEventBoxController.java
``` java
	 * 
	 *          Change the text color based on priority
	 * 
	 * @param priority
	 *            - the priority of the current event
	 * 
	 */
	private void changeBorderColor(Priority priority) {
		if (priority == Priority.VERY_HIGH) {
			homeEventGridPane.setStyle("-fx-border-color: red;");
		} else if (priority == Priority.HIGH) {
			homeEventGridPane.setStyle("-fx-border-color: #FFA07A;");
		} else if (priority == Priority.MEDIUM) {
			homeEventGridPane.setStyle("-fx-border-color: #FFFF00;");
		} else if (priority == Priority.LOW) {
			homeEventGridPane.setStyle("-fx-border-color: #00FF7F;");
		} else if (priority == Priority.VERY_LOW) {
			homeEventGridPane.setStyle("-fx-border-color: #2E8B57;");
		} else {
			homeEventGridPane.setStyle("-fx-border-color: black;");
		}
	}
}
```
###### ./src/calendrier/gui/UserInterface.java
``` java
	 * generate home view
	 * 
	 * @param userInterface
	 *            - the current userInterface
	 * @param timeToNextEvent
	 *            - time left for next event
	 * 
	 */
	@SuppressWarnings("deprecation")
	private void viewHome(UserInterface userInterface, long timeToNextEvent) {
		Calendar cal = Calendar.getInstance();
		currentScreenState = VALUE_VIEW_HOME_SCREEN;
		rootLayout.setCenter(new ViewController(timeToNextEvent,
				mainLogic.getDayEvents(cal.getTime().getYear() + 1900, cal.getTime().getMonth() + 1,
						cal.getTime().getDay() + 1),
				mainLogic.getAllEvents(), getNumOfFloatEvents(mainLogic.getAllEvents()),
				getNumOfOnGoingEvents(mainLogic.getAllEvents()), getNumOfPassedEvents(mainLogic.getAllEvents())));
		setTimer(timeToNextEvent, cal);
	}

	@SuppressWarnings("deprecation")
	private void setTimer(long timeToNextEvent, Calendar cal) {
		if (timeToNextEvent >= 0) {
			timer = new Timer();
			timerStatus = VALUE_TIMER_ENABLE;
			startCountDown(mainLogic.getDayEvents(cal.getTime().getYear() + 1900, cal.getTime().getMonth() + 1,
					cal.getTime().getDay() + 1), mainLogic.getAllEvents());
		}
	}

	/**
```
###### ./src/calendrier/gui/UserInterface.java
``` java
	 * Start count down for the next event
	 * 
	 * @param name1
	 *            - the title for current event
	 * @param name2
	 *            - the title for next event
	 * 
	 * 
	 */
	private void startCountDown(List<Event> dayEvents, List<Event> allEvents) {
		timer.schedule(new TimerTask() {
			@Override
			public void run() {
				Platform.runLater(new Runnable() {
					public void run() {
						rootLayout.setCenter(new ViewController(mainLogic.getTimeToNextEvent(), dayEvents, allEvents,
								getNumOfFloatEvents(mainLogic.getAllEvents()),
								getNumOfOnGoingEvents(mainLogic.getAllEvents()),
								getNumOfPassedEvents(mainLogic.getAllEvents())));
					}
				});
			}
		}, 1, 1000);
	}
```
###### ./src/calendrier/gui/UserInterface.java
``` java
	 * generate month view
	 * 
	 * @param userInterface
	 *            - the current userInterface
	 * @param month
	 *            - the month to be display
	 * @param year
	 *            - year to be display
	 * 
	 */
	private void viewMonth(UserInterface userInterface, int month, int year) {
		currentScreenState = VALUE_VIEW_MONTH_SCREEN;
		rootLayout.setCenter(new ViewController(mainLogic.getMonthEvents(currentYear, currentMonth + 1), date,
				currentMonth, currentYear));
	}
```
###### ./src/calendrier/gui/UserInterface.java
``` java
	 * get number of events that are passed
	 * 
	 * @param events
	 *            - whole list of event
	 * 
	 * @return numOfPassedEvent - total number of events that are passed
	 * 
	 */
	private int getNumOfPassedEvents(List<Event> events) {
		int num = 0;
		Calendar thisCal = Calendar.getInstance();
		for (int i = 0; i < events.size(); i++) {
			if (events.get(i).getEndDateTime() != null) {
				if (events.get(i).getEndDateTime().compareTo(thisCal) < 0) {
					num++;
				}
			}
		}
		return num;
	}
```
###### ./src/calendrier/gui/UserInterface.java
``` java
	 * get number of events that are still active
	 * 
	 * @param events
	 *            - whole list of event
	 * 
	 * @return numOfActiveEvent - total number of events that are still active
	 * 
	 */
	private int getNumOfOnGoingEvents(List<Event> events) {
		int num = 0;
		Calendar thisCal = Calendar.getInstance();
		for (int i = 0; i < events.size(); i++) {
			if (events.get(i).getStartDateTime() != null && events.get(i).getEndDateTime() != null) {
				if (events.get(i).getEndDateTime().compareTo(thisCal) > 0) {
					num++;
				}
			} else if (events.get(i).getStartDateTime() != null) {
				num++;
			}
		}
		return num;
	}
```
###### ./src/calendrier/gui/UserInterface.java
``` java
	 * get number of events that does not have deadline
	 * 
	 * @param events
	 *            - whole list of event
	 * 
	 * @return numOfPassedEvent - total number of events that does not have
	 *         deadline
	 * 
	 */
	private int getNumOfFloatEvents(List<Event> events) {
		int num = 0;
		for (int i = 0; i < events.size(); i++) {
			if (events.get(i).getStartDateTime() == null && events.get(i).getEndDateTime() == null) {
				num++;
			}
		}
		return num;
	}
```
###### ./src/calendrier/gui/ViewController.java
``` java
	@FXML
	private Label lblmonth;
	@FXML
	private Label lblyear;
	@FXML
	private Label lbltimeDay;
	@FXML
	private Label lbltimeHour;
	@FXML
	private Label lbltimeMin;
	@FXML
	private Label lbltimeSec;
	@FXML
	private Label lblMoreEvent;
	@FXML
	private Label lblPassed;
	@FXML
	private Label lblOngoing;
	@FXML
	private Label lblFloat;
	@FXML
	private Label lblNextTask;
	@FXML
	private FlowPane flowPaneCurrentEvents;
	@FXML
	private FlowPane flowPaneNextEvents;
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * Constructor to initialize the main components of
	 *          viewHome
	 * 
	 * @param time
	 *            - the remaining time for next event to happen
	 * @param dayEvents
	 *            - the events that happen today
	 * @param allEvents
	 *            - the list of all events
	 * @param floatTask
	 *            - total number of floating task
	 * @param onGoingTask
	 *            - total number of on going task
	 * @param passedTask
	 *            - total number of passed task
	 * 
	 */
	public ViewController(long time, List<Event> dayEvents, List<Event> allEvents, int floatTask, int onGoingTask,
			int passedTask) {
		FXMLLoader loader = new FXMLLoader(getClass().getResource(VIEWHOME_SCREEN_LAYOUT_FXML));
		loader.setController(this);
		loader.setRoot(this);
		try {
			loader.load();
		} catch (IOException e) {
			e.printStackTrace();
		}

		initHomeView(time, dayEvents, allEvents, floatTask, onGoingTask, passedTask);
	}

	private void initHomeView(long time, List<Event> dayEvents, List<Event> allEvents, int floatTask, int onGoingTask,
			int passedTask) {

		Event nextEvent = new Event();
		Calendar cal = Calendar.getInstance();
		IdMapper idMapper = IdMapper.getInstance();

		int id = generateCurrentEvent(dayEvents, allEvents, idMapper);
		nextEvent = generateNextEvent(allEvents, nextEvent, cal, idMapper, id);

		setForCountingTask(floatTask, onGoingTask, passedTask, nextEvent);
		generateTimerSetting(time);
	}

	private void setForCountingTask(int floatTask, int onGoingTask, int passedTask, Event nextEvent) {
		lblPassed.setText(Integer.toString(passedTask));
		lblOngoing.setText(Integer.toString(onGoingTask));
		lblFloat.setText(Integer.toString(floatTask));
		if (nextEvent.getTitle() != null) {
			lblNextTask.setText(String.format("Countdown to %s", nextEvent.getTitle()));
		} else {
			lblNextTask.setText(String.format("Countdown Not Avaliable"));
		}
	}

	private void generateTimerSetting(long time) {
		long sec;
		long min;
		long hour;
		long day;
		if (time != -1) {
			sec = (time / 1000) % 60;
			min = (time / 60000) % 60;
			hour = (time / 3600000) % 24;
			day = (time / 3600000) / 24;

			lbltimeDay.setText(String.format("%d", day));
			lbltimeHour.setText(String.format("%d", hour));
			lbltimeMin.setText(String.format("%d", min));
			lbltimeSec.setText(String.format("%d", sec));
		} else {
			lbltimeDay.setText("-");
			lbltimeHour.setText("-");
			lbltimeMin.setText("-");
			lbltimeSec.setText("-");
		}
	}

	private Event generateNextEvent(List<Event> allEvents, Event nextEvent, Calendar cal, IdMapper idMapper, int id) {
		int count;
		count = 0;
		for (int i = 0; i < allEvents.size(); i++) {
			if (allEvents.get(i).getStartDateTime() != null) {
				if (allEvents.get(i).getStartDateTime().after(cal)) {
					if (count == 0) {
						nextEvent = allEvents.get(i);
					}
					idMapper.set(Integer.toString(id), allEvents.get(i).getId());
					flowPaneNextEvents.getChildren().add(new HomeEventBoxController(allEvents.get(i), id));
					count++;
					id++;
					if (count == 5) {
						// lblMoreNextEvent.setText(String.format("+%d more",
						// allEvents.size()-count));
						break;
					}
				}
			}
		}
		return nextEvent;
	}

	private int generateCurrentEvent(List<Event> dayEvents, List<Event> allEvents, IdMapper idMapper) {
		int count = 0, id = 0;
		for (int i = 0; i < dayEvents.size(); i++) {
			if (dayEvents.get(i).getStartDateTime() != null) {
				idMapper.set(Integer.toString(id), allEvents.get(i).getId());
				flowPaneCurrentEvents.getChildren().add(new HomeEventBoxController(dayEvents.get(i), id));// lblCurrent.setText(events.get(i).getTitle());
				count++;
				id++;
				if (count == 5) {
					lblMoreEvent.setText(String.format("+%d more", dayEvents.size() - count));
					break;
				}
			}
		}
		return id;
	}

	/**
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * Constructor to initialize the main components of
	 *          viewMonth
	 * 
	 * @param events
	 *            - List of events in the specific month
	 * @param date
	 *            - the date to be display for user
	 * @param month
	 *            - the month to display for user
	 * @param year
	 *            - the year to display for user
	 * 
	 */
	public ViewController(List<Event> events, int date, int month, int year) {
		FXMLLoader loader = new FXMLLoader(getClass().getResource(VIEWMONTH_SCREEN_LAYOUT_FXML));
		loader.setController(this);
		loader.setRoot(this);
		try {
			loader.load();
		} catch (IOException e) {
			e.printStackTrace();
		}

		initForMonthView(events, month, year);
	}
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * Map short id to the real id
	 * 
	 * @param events
	 *            - the events to be mapped
	 * 
	 * @return idList - the list of id that map to the id
	 * 
	 */
	private List<String> setIdMapper(List<Event> events) {
		IdMapper idMapper = IdMapper.getInstance();
		List<String> idList = new ArrayList<String>();
		for (int i = 0; i < events.size(); i++) {
			// System.out.println(events.get(i).toString());
			idMapper.set(Integer.toString(i), events.get(i).getId());
			idList.add(events.get(i).getId());
		}
		return idList;
	}
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * to compute total number of day in month
	 * 
	 * @param month
	 *            - the month to detect the total day
	 * @param year
	 *            - the year to display
	 * 
	 * @return numOfDay - number of day in particular month
	 * 
	 */
	private int detectLengthofMonth(int month, int year) {
		int end;
		if (month == 0 || month == 2 || month == 4 || month == 6 || month == 7 || month == 9 || month == 11) {
			end = 31;
		} else if (month == 1) {
			end = detectLeapYear(year);
		} else {
			end = 30;
		}
		return end;
	}
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * convert month from integer to string
	 * 
	 * @param month
	 *            - the month to be convert
	 * 
	 * @return String of month
	 * 
	 */
	private String detectMonth(int month) {
		switch (month) {
		case 0:
			return "JANUARY";
		case 1:
			return "FEBUARY";
		case 2:
			return "MARCH";
		case 3:
			return "APRIL";
		case 4:
			return "MAY";
		case 5:
			return "JUNE";
		case 6:
			return "JULY";
		case 7:
			return "AUGUST";
		case 8:
			return "SEPTEMBER";
		case 9:
			return "OCTOBER";
		case 10:
			return "NOVEMBER";
		case 11:
			return "DECEMBER";
		}
		return null;
	}
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * determine for leap year
	 * 
	 * @param year
	 *            - the year to be determine for leap year
	 * 
	 * @return numOfDay - number of day in February for that year
	 * 
	 */
	private int detectLeapYear(int year) {
		if ((year % 4 == 0 && year % 100 != 0) || (year % 400 == 0)) {
			return 29;
		}
		return 28;
	}
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * detect the number of events in particular date
	 * 
	 * @param year
	 *            - the year to display for user
	 * @param month
	 *            - the month to display for user
	 * @param date
	 *            - the date to display for user
	 * @param events
	 *            - the list of events for a month
	 * 
	 * @return eventList -total event in a date
	 * 
	 */
	@SuppressWarnings("deprecation")
	public List<Event> detectDate(List<Event> events, int date, int month, int year) {
		int i;
		List<Event> results = new ArrayList<Event>();

		for (i = 0; i < events.size(); i++) {
			if (events.get(i).getStartDateTime() != null && events.get(i).getEndDateTime() != null) {
				// Start and end in same year
				if (events.get(i).getEndDateTime().getTime().getYear() + 1900 == year
						&& events.get(i).getStartDateTime().getTime().getYear() + 1900 == year) {

					if ((events.get(i).getEndDateTime().getTime().getDate() >= date
							&& events.get(i).getEndDateTime().getTime().getMonth() == month)
							&& (events.get(i).getStartDateTime().getTime().getDate() <= date
									&& events.get(i).getStartDateTime().getTime().getMonth() == month)) {
						results.add(events.get(i));
					} else if (events.get(i).getStartDateTime().getTime().getMonth() == month
							&& events.get(i).getEndDateTime().getTime().getMonth() > month) {
						if (events.get(i).getStartDateTime().getTime().getDate() <= date) {
							results.add(events.get(i));
						}
					} else if (events.get(i).getStartDateTime().getTime().getMonth() < month
							&& events.get(i).getEndDateTime().getTime().getMonth() == month) {
						if (events.get(i).getEndDateTime().getTime().getDate() >= date) {
							results.add(events.get(i));
						}
					} else if (events.get(i).getStartDateTime().getTime().getMonth() < month
							&& events.get(i).getEndDateTime().getTime().getMonth() > month) {
						results.add(events.get(i));
					}
				}
				// Start year < end year, set for start year
				else if (events.get(i).getEndDateTime().getTime().getYear() + 1900 > year
						&& events.get(i).getStartDateTime().getTime().getYear() + 1900 == year) {
					if (events.get(i).getStartDateTime().getTime().getMonth() == month) {
						if (events.get(i).getStartDateTime().getTime().getDate() <= date) {
							results.add(events.get(i));
						}
					} else if (events.get(i).getStartDateTime().getTime().getMonth() < month) {
						results.add(events.get(i));
					}
				}
				// Start year < end year, set for end year
				else if (events.get(i).getEndDateTime().getTime().getYear() + 1900 == year
						&& events.get(i).getStartDateTime().getTime().getYear() + 1900 < year) {
					if (events.get(i).getEndDateTime().getTime().getMonth() == month) {
						if (events.get(i).getEndDateTime().getTime().getDate() >= date) {
							results.add(events.get(i));
						}
					} else if (events.get(i).getEndDateTime().getTime().getMonth() > month) {
						results.add(events.get(i));
					}
				}
			}
			// for task without enddate
			else {
				if (events.get(i).getStartDateTime().getTime().getDate() == date) {
					if (events.get(i).getStartDateTime().getTime().getMonth() == month) {
						results.add(events.get(i));
					}
				}
			}
		}
		return results;
	}
```
###### ./src/calendrier/gui/ViewController.java
``` java
	 * check for month
	 * 
	 * @param month
	 *            - the month to be check
	 * 
	 * @return month -the checked month
	 * 
	 */
	public int checkMonth(int month) {
		if (month > 11) {
			return 12;
		}
		return month;
	}
```
###### ./src/calendrier/resources/EventMonth.fxml
``` fxml
<?import java.lang.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import java.net.*?>
<?import javafx.geometry.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

```
###### ./src/calendrier/resources/EventMonth.fxml
``` fxml
<fx:root type="StackPane" xmlns="http://javafx.com/javafx/8.0.40"
	xmlns:fx="http://javafx.com/fxml">
	<children>
		<GridPane fx:id="eventGridPaneMonth" xmlns="http://javafx.com/javafx/8.0.40"
			xmlns:fx="http://javafx.com/fxml" hgap="20" vgap="20" prefWidth="160.0"
			prefHeight="100.0" maxWidth="160.0" maxHeight="100.0">
			<children>
				<Label fx:id="lblDate" GridPane.rowIndex="0"
					GridPane.columnIndex="0" GridPane.columnSpan="3" wrapText="true"/>
				<Label fx:id="lblEventID1" GridPane.rowIndex="1"
					GridPane.columnIndex="1" wrapText="true" />
				<Label fx:id="lblEvent1" GridPane.rowIndex="1"
					GridPane.columnIndex="2" wrapText="true"/>
				<Label fx:id="lblEventID2" GridPane.rowIndex="2"
					GridPane.columnIndex="1" wrapText="true" />
				<Label fx:id="lblEvent2" GridPane.rowIndex="2"
					GridPane.columnIndex="2"  wrapText="true"/>
				<Label fx:id="lblEvent3" GridPane.rowIndex="3"
					GridPane.columnIndex="1" GridPane.columnSpan="3" wrapText="true"/>
			</children>
		</GridPane>
	</children>
</fx:root>

```
###### ./src/calendrier/resources/Home.fxml
``` fxml
<fx:root type="FlowPane" fx:id="flowPaneHomeEvents" xmlns="http://javafx.com/javafx/8.0.40"
	xmlns:fx="http://javafx.com/fxml/1" prefWidth="1000.0" prefHeight="600.0"
	maxWidth="1000.0" maxHeight="600.0">
	<children>
		<GridPane styleClass="gridPaneHelpScreen" xmlns="http://javafx.com/javafx/8.0.40"
			xmlns:fx="http://javafx.com/fxml/1" prefWidth="1000.0" prefHeight="600.0"
			maxWidth="1000.0" maxHeight="600.0" vgap="10" hgap="20">
			<columnConstraints>
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
				<ColumnConstraints percentWidth="10.0" halignment="CENTER" />
			</columnConstraints>
			<rowConstraints>
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="5.0" />
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="5.0" />
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="10.0" />
				<RowConstraints percentHeight="10.0" />
			</rowConstraints>
			<children>
				<Label fx:id="lblCurrentEvent" text="Current Task"
					GridPane.rowIndex="0" GridPane.columnIndex="0" GridPane.columnSpan="3" />

				<FlowPane fx:id="flowPaneCurrentEvents" xmlns="http://javafx.com/javafx/8.0.40"
					xmlns:fx="http://javafx.com/fxml/1" prefWidth="850.0" vgap="5"
					maxWidth="850.0" GridPane.rowIndex="1" GridPane.columnIndex="0"
					GridPane.columnSpan="10">
					<children>
					</children>
				</FlowPane>
				<Label fx:id="lblMoreEvent"
					GridPane.rowIndex="1" GridPane.columnIndex="9"/>

				<Label fx:id="lblCurrentEvent" text="Next Task       "
					GridPane.rowIndex="2" GridPane.columnIndex="0" GridPane.columnSpan="3" />

				<FlowPane fx:id="flowPaneNextEvents" xmlns="http://javafx.com/javafx/8.0.40"
					xmlns:fx="http://javafx.com/fxml/1" prefWidth="850.0" vgap="5"
					maxWidth="850.0" GridPane.rowIndex="3" GridPane.columnIndex="0"
					GridPane.columnSpan="10">
					<children>
					</children>
				</FlowPane>
				<!-- <Label fx:id="lblMoreNextEvent"
					GridPane.rowIndex="3" GridPane.columnIndex="9"/> -->

				<Label fx:id="lblCurrentEvent" text="Overdue Task"
					GridPane.rowIndex="5" GridPane.columnIndex="0" GridPane.columnSpan="3" />
				<Label fx:id="lblCurrentEvent" text="Ongoing Task  "
					GridPane.rowIndex="5" GridPane.columnIndex="3" GridPane.columnSpan="4" />
				<Label fx:id="lblCurrentEvent" text="Floating Task"
					GridPane.rowIndex="5" GridPane.columnIndex="7" GridPane.columnSpan="3" />

				<Label fx:id="lblPassed" GridPane.rowIndex="6"
					GridPane.columnIndex="0" GridPane.columnSpan="3" />
				<Label fx:id="lblOngoing" GridPane.rowIndex="6"
					GridPane.columnIndex="3" GridPane.columnSpan="4" />
				<Label fx:id="lblFloat" GridPane.rowIndex="6"
					GridPane.columnIndex="7" GridPane.columnSpan="3" />

				<Label fx:id="lblNextTask" GridPane.rowIndex="8"
					GridPane.columnIndex="0" GridPane.columnSpan="10" />

				<Label fx:id="lbltimeDay" GridPane.rowIndex="9"
					GridPane.columnIndex="3" />
				<Label fx:id="lbltimeHour" GridPane.rowIndex="9"
					GridPane.columnIndex="4" />
				<Label fx:id="lbltimeMin" GridPane.rowIndex="9"
					GridPane.columnIndex="5" />
				<Label fx:id="lbltimeSec" GridPane.rowIndex="9"
					GridPane.columnIndex="6" />

				<Label fx:id="lbltimeTitle" text="Day" GridPane.rowIndex="10"
					GridPane.columnIndex="3" />
				<Label fx:id="lbltimeTitle" text="Hour" GridPane.rowIndex="10"
					GridPane.columnIndex="4" />
				<Label fx:id="lbltimeTitle" text="Min" GridPane.rowIndex="10"
					GridPane.columnIndex="5" />
				<Label fx:id="lbltimeTitle" text="Sec" GridPane.rowIndex="10"
					GridPane.columnIndex="6" />
			</children>
		</GridPane>
	</children>
</fx:root>
```
###### ./src/calendrier/resources/HomeEventBox.fxml
``` fxml
<?import java.lang.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<fx:root type="StackPane" xmlns="http://javafx.com/javafx/8.0.40"
	xmlns:fx="http://javafx.com/fxml">
	<children>
		<GridPane fx:id="homeEventGridPane" xmlns="http://javafx.com/javafx/8.0.40"
			xmlns:fx="http://javafx.com/fxml" hgap="10" vgap="10" prefWidth="150.0"
			prefHeight="50.0" maxWidth="150.0" maxHeight="50.0">
			<columnConstraints>
				<ColumnConstraints percentWidth="15.0" />
				<ColumnConstraints percentWidth="85.0" />
			</columnConstraints>
			<children>
				<Label fx:id="lblHomeEventID" GridPane.rowIndex="0"
					GridPane.columnIndex="0" wrapText="true" />
				<Label fx:id="lblHomeEventTitle" GridPane.rowIndex="0"
					GridPane.columnIndex="1" wrapText="true" />
			</children>
		</GridPane>
	</children>
</fx:root>
```
###### ./src/calendrier/resources/ViewMonth.fxml
``` fxml
<?import java.lang.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

```
###### ./src/calendrier/resources/ViewMonth.fxml
``` fxml
<fx:root type="FlowPane" fx:id="flowPaneMonthEvents" xmlns="http://javafx.com/javafx/8.0.40"
	xmlns:fx="http://javafx.com/fxml/1" prefWidth="550.0" prefHeight="500.0"
	maxWidth="1200.0" maxHeight="1200.0">
	<GridPane fx:id="monthGridPane" xmlns="http://javafx.com/javafx/8.0.40"
		xmlns:fx="http://javafx.com/fxml" hgap="4" vgap="4" prefWidth="1200.0"
		prefHeight="15.0" maxWidth="1200.0" maxHeight="15.0">
		<children>
			<Label fx:id="lblmonth" GridPane.columnIndex="5" GridPane.rowIndex="2" />
			<Label fx:id="lblyear" GridPane.columnIndex="8" GridPane.rowIndex="2" />
		</children>
	</GridPane>
	<GridPane fx:id="monthGridPane" xmlns="http://javafx.com/javafx/8.0.40"
		xmlns:fx="http://javafx.com/fxml" hgap="5" vgap="5" prefWidth="1200.0"
		prefHeight="20.0" maxWidth="1200.0" maxHeight="20.0">
		<children>
			<Label styleClass="displayText" text="Sunday"
				GridPane.columnIndex="11" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Monday"
				GridPane.columnIndex="29" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Tuesday"
				GridPane.columnIndex="47" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Wednesday"
				GridPane.columnIndex="63" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Thursday"
				GridPane.columnIndex="77" GridPane.rowIndex="2" GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Friday"
				GridPane.columnIndex="95" GridPane.rowIndex="2"
				GridPane.columnSpan="2" />
			<Label styleClass="displayText" text="Saturday"
				GridPane.columnIndex="116" GridPane.rowIndex="2"
				GridPane.columnSpan="2" />

		</children>
	</GridPane>
	<children>
	</children>
</fx:root>
```
###### ./src/calendrier/StorageManager.java
``` java
 * For handling the main logic
 * 
 * @author hiumengxiong
 *
 */
public class StorageManager {
	
	private static String fileName=null;
	private static List<String> inputData;
	private static String line;
	//private static Logger theLogger = Logger.getLogger(StorageManager.class.getName());
//	FileHandler logFile;
	
	/**
```
###### ./src/calendrier/StorageManager.java
``` java
	 * Constructor to initialize the main components of Storage Manager
	 */
	public StorageManager(){
		inputData=new ArrayList<String>();
//		try {
//			logFile = new FileHandler("storage.log", true);
//		} catch (SecurityException | IOException e) {
//			// TODO Auto-generated catch block
//			e.printStackTrace();
//		}
		//theLogger.addHandler(logFile);
//	    theLogger.setLevel(Level.ALL);
//	    theLogger.setUseParentHandlers(false);
	}
	
	/**
```
###### ./src/calendrier/StorageManager.java
``` java
	 * return a list of String from text file
	 * 
	 * @return listOfString - a list of string capture from text file
	 * @throws UserCommandException 
	 * 
	 */
	public List<String> load() throws UserCommandException{
		inputData.clear();
		processFile(fileName);
		return inputData;
	}
	
	/**
```
###### ./src/calendrier/StorageManager.java
``` java
	 * Convert the current list of event to string
	 * 
	 *  @return String - String the consist of all the events
	 * @throws UserCommandException 
	 * 
	 */
	public String listToString() throws UserCommandException{
		int i;
		
		String result="";
		List<String> data=new ArrayList<String>();
		data=load();
		
		for(i=0;i<data.size();i++){
			result=result.concat(data.get(i).toString()+"\n");
		}
		return result;
	}
	
	/**
```
###### ./src/calendrier/StorageManager.java
``` java
	 * Check for the file location
	 * 
	 * @param fileLocation
	 *            the location that provided by event handler
	 *            
	 * @throws Exception
	 * 
	 */
	public void setStorageLocation(String fileLocation) throws UserCommandException{
		if (fileLocation.length() == 0) {
			System.out.println("Cannot detect the specific file!");
		}
		File file = new File(fileLocation);
		try {
			if (!file.exists()) {
				file.createNewFile();
			}
			processFile(fileLocation);
		} catch (IOException e) {
			e.printStackTrace();
			System.out.println(e.getMessage());
			
			UserCommandException error= new UserCommandException();
			error.setMessage("Error! File Path detected. Please enter file name!");
			throw error;
		} 
		//theLogger.log(Level.INFO, "set file location!");
	}

	/**
```
###### ./src/calendrier/StorageManager.java
``` java
	 * Save the list of event into text file
	 * 
	 * @param data
	 *            the list of events to be save in text file.
	 * @throws Exception 
	 */
	public void save(List<Event> data) throws UserCommandException {
		int i;
		assert(data !=  null);  
		
		if (fileName == null) {
			setStorageLocation("storageFile.txt");
		}

		try {
			FileWriter fileWrite = new FileWriter(fileName);
			BufferedWriter bufferWrite = new BufferedWriter(fileWrite);
			PrintWriter fileOut = new PrintWriter(bufferWrite);

			for (i = 0; i < data.size(); i++) {
				fileOut.println(data.get(i).toString());
			}

			fileOut.close();
		} catch (Exception e) {
			System.out.println(e.toString());
			
			UserCommandException error= new UserCommandException();
			error.setMessage("Error! Cannot be saved! " + e.getMessage());
			throw error;
		}
		//theLogger.log(Level.INFO, "Successfully save data into file!");
	}

	/**
```
###### ./src/calendrier/StorageManager.java
``` java
	 * Read data from text file
	 * 
	 * @param fileLocation
	 *            location of the text file to be process
	 */
	public void processFile(String fileLocation) throws UserCommandException {

		fileName = fileLocation;
		inputData = new ArrayList<String>();

		try {
			FileReader inputFile = new FileReader(fileName);
			BufferedReader bufferReader = new BufferedReader(inputFile);

			// Read file line by line and store into arraylist
			while ((line = bufferReader.readLine())!=null) {
				inputData.add(line);
			}
			bufferReader.close();
		} catch (Exception e) {
			System.out.println("Error while reading file: " + e.getMessage());
			
			UserCommandException error= new UserCommandException();
			error.setMessage("Error! File cannot be read! " + e.getMessage());
			throw error;
		}
		//theLogger.log(Level.INFO, "Successfully load data from file!");
	}
}
```
###### ./src/test/StorageManagerTest.java
``` java
 * @author hiumengxiong
 * 
 */
public class StorageManagerTest {
	
```
###### ./src/test/StorageManagerTest.java
``` java
	@Test
	public void loadFromFile() throws UserCommandException{
		StorageManager rm= new StorageManager();
		rm.setStorageLocation("storageFile.txt") ;
		assertEquals("id: testId, " + "mainId: null, " + "title: testTitle, " + "startDateTime: 2015/10/20-10:33, "
				+ "endDateTime: 2015/10/21-11:34, " + "priority: MEDIUM, " + "location: test location, "
				+ "notes: test note, " + "reminder: [2015/10/20-10:33], " + "groups: null, "
				+ "recurrence: null, " + "subtasks: [], done: false, \nid: test123, " + "mainId: null, " + "title: 123Title, " + "startDateTime: null, "
				+ "endDateTime: null, " + "priority: HIGH, " + "location: test123123, "
				+ "notes: test note123213, " + "reminder: [], " + "groups: null, "
				+ "recurrence: null, " + "subtasks: [], done: false, \n", rm.listToString());
	}
	
```
###### ./src/test/StorageManagerTest.java
``` java
	@Test
	public void testSave() throws UserCommandException {
		
		StorageManager rm= new StorageManager();
		List<Event> data= new ArrayList<Event>();
		
		rm.setStorageLocation("storageFile.txt") ;

		Calendar calendarStart = Calendar.getInstance(TimeZone.getTimeZone("GMT+8:00"));
		calendarStart.set(2015, 9, 20, 10, 33, 25);
		Calendar calendarEnd = Calendar.getInstance();
		calendarEnd.set(2015, 9, 21, 11, 34, 26);

		Event event = new Event();
		event.setId("testId");
		event.setTitle("testTitle");
		event.setStartDateTime(calendarStart);
		event.setEndDateTime(calendarEnd);
		event.setPriority(Priority.MEDIUM);
		event.setLocation("test location");
		event.setNotes("test note");
		event.setReminder(calendarStart);
		data.add(event);
		
		Event event1 = new Event();
		event1.setId("test123");
		event1.setTitle("123Title");
		event1.setPriority(Priority.HIGH);
		event1.setLocation("test123123");
		event1.setNotes("test note123213");
		data.add(event1);
		
		rm.save(data);
		assertEquals("id: testId, " + "mainId: null, " + "title: testTitle, " + "startDateTime: 2015/10/20-10:33, "
				+ "endDateTime: 2015/10/21-11:34, " + "priority: MEDIUM, " + "location: test location, "
				+ "notes: test note, " + "reminder: [2015/10/20-10:33], " + "groups: null, "
				+ "recurrence: null, " + "subtasks: [], done: false, \nid: test123, " + "mainId: null, " + "title: 123Title, " + "startDateTime: null, "
				+ "endDateTime: null, " + "priority: HIGH, " + "location: test123123, "
				+ "notes: test note123213, " + "reminder: [], " + "groups: null, "
				+ "recurrence: null, " + "subtasks: [], done: false, \n", rm.listToString());
		
	}
}
```
